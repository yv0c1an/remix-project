{"version":3,"file":"3461.0.52.0-dev.1720638426578.js","mappings":"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","sources":["webpack:///./src/blockchain/providers/worker-vm.ts","webpack:///../../libs/remix-lib/src/eventManager.ts","webpack:///../../libs/remix-lib/src/execution/eventsDecoder.ts","webpack:///../../libs/remix-lib/src/execution/forkAt.ts","webpack:///../../libs/remix-lib/src/execution/logsManager.ts","webpack:///../../libs/remix-lib/src/execution/txExecution.ts","webpack:///../../libs/remix-lib/src/execution/txFormat.ts","webpack:///../../libs/remix-lib/src/execution/txHelper.ts","webpack:///../../libs/remix-lib/src/execution/txListener.ts","webpack:///../../libs/remix-lib/src/execution/txRunner.ts","webpack:///../../libs/remix-lib/src/execution/txRunnerVM.ts","webpack:///../../libs/remix-lib/src/execution/txRunnerWeb3.ts","webpack:///../../libs/remix-lib/src/execution/typeConversion.ts","webpack:///../../libs/remix-lib/src/hash.ts","webpack:///../../libs/remix-lib/src/helpers/compilerHelper.ts","webpack:///../../libs/remix-lib/src/helpers/hhconsoleSigs.ts","webpack:///../../libs/remix-lib/src/helpers/txResultHelper.ts","webpack:///../../libs/remix-lib/src/helpers/uiHelper.ts","webpack:///../../libs/remix-lib/src/index.ts","webpack:///../../libs/remix-lib/src/query-params.ts","webpack:///../../libs/remix-lib/src/registry.ts","webpack:///../../libs/remix-lib/src/storage.ts","webpack:///../../libs/remix-lib/src/util.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/amd options","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/create fake namespace object","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/get mini-css chunk filename","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/importScripts chunk loading","webpack:///webpack/runtime/startup chunk dependencies","webpack:///webpack/startup"],"sourcesContent":["import { Provider } from '@remix-project/remix-simulator'\n\nlet provider: Provider = null\nself.onmessage = (e: MessageEvent) => {\n  const data = e.data\n  switch (data.cmd) {\n  case 'init':\n  {\n    provider = new Provider({ fork: data.fork, nodeUrl: data.nodeUrl, blockNumber: data.blockNumber, stateDb: data.stateDb, blocks: data.blocks })\n    provider.init().then(() => {\n      self.postMessage({\n        cmd: 'initiateResult',\n        stamp: data.stamp\n      })\n    }).catch((error) => {\n      self.postMessage({\n        cmd: 'initiateResult',\n        error,\n        stamp: data.stamp\n      })\n    })\n    break\n  }\n  case 'sendAsync':\n  {\n    if (provider) {\n      provider.sendAsync(data.query, (error, result) => {\n        self.postMessage({\n          cmd: 'sendAsyncResult',\n          error,\n          result,\n          stamp: data.stamp\n        })\n      })\n    } else {\n      self.postMessage({\n        cmd: 'sendAsyncResult',\n        error: 'Provider not instantiated',\n        result: null,\n        stamp: data.stamp\n      })\n    }\n\n    break\n  }\n  case 'addAccount':\n  {\n    if (provider) {\n      provider.Accounts._addAccount(data.privateKey, data.balance)\n    }\n\n    break\n  }\n  case 'newAccount':\n  {\n    if (provider) {\n      provider.Accounts.newAccount((error, address: string) => {\n        if (error) {\n          self.postMessage({\n            cmd: 'newAccountResult',\n            error,\n            stamp: data.stamp\n          })\n        } else {\n          self.postMessage({\n            cmd: 'newAccountResult',\n            result: address,\n            stamp: data.stamp\n          })\n        }\n      })\n    }\n\n    break\n  }\n  }\n}\n","'use strict'\n\nexport class EventManager {\n  registered\n  anonymous\n\n  constructor () {\n    this.registered = {}\n    this.anonymous = {}\n  }\n\n  /*\n    * Unregister a listener.\n    * Note that if obj is a function. the unregistration will be applied to the dummy obj {}.\n    *\n    * @param {String} eventName  - the event name\n    * @param {Object or Func} obj - object that will listen on this event\n    * @param {Func} func         - function of the listeners that will be executed\n  */\n  unregister (eventName, obj, func) {\n    if (!this.registered[eventName]) {\n      return\n    }\n    if (obj instanceof Function) {\n      func = obj\n      obj = this.anonymous\n    }\n    for (const reg in this.registered[eventName]) {\n      if ((this.registered[eventName][reg].obj === obj) && (this.registered[eventName][reg].func.toString() === func.toString())) {\n        this.registered[eventName].splice(reg, 1)\n      }\n    }\n  }\n\n  /*\n    * Register a new listener.\n    * Note that if obj is a function, the function registration will be associated with the dummy object {}\n    *\n    * @param {String} eventName  - the event name\n    * @param {Object or Func} obj - object that will listen on this event\n    * @param {Func} func         - function of the listeners that will be executed\n  */\n  register (eventName, obj, func?) {\n    if (!this.registered[eventName]) {\n      this.registered[eventName] = []\n    }\n    if (obj instanceof Function) {\n      func = obj\n      obj = this.anonymous\n    }\n    this.registered[eventName].push({ obj, func })\n  }\n\n  /*\n    * trigger event.\n    * Every listener have their associated function executed\n    *\n    * @param {String} eventName  - the event name\n    * @param {Array}j - argument that will be passed to the executed function.\n  */\n  trigger (eventName, args) {\n    if (!this.registered[eventName]) {\n      return\n    }\n    for (const listener in this.registered[eventName]) {\n      const l = this.registered[eventName][listener]\n      if (l.func) l.func.apply(l.obj === this.anonymous ? {} : l.obj, args)\n    }\n  }\n}\n","'use strict'\nimport { ethers } from 'ethers'\nimport { visitContracts } from './txHelper'\n\n/**\n  * Register to txListener and extract events\n  *\n  */\nexport class EventsDecoder {\n  resolveReceipt\n\n  constructor ({ resolveReceipt }) {\n    this.resolveReceipt = resolveReceipt\n  }\n\n  /**\n  * use Transaction Receipt to decode logs. assume that the transaction as already been resolved by txListener.\n  * logs are decoded only if the contract if known by remix.\n  *\n  * @param {Object} tx - transaction object\n  * @param {Function} cb - callback\n  */\n  parseLogs (tx, contractName, compiledContracts, cb) {\n    if (tx.isCall) return cb(null, { decoded: [], raw: []})\n    this.resolveReceipt(tx, (error, receipt) => {\n      if (error) return cb(error)\n      this._decodeLogs(tx, receipt, contractName, compiledContracts, cb)\n    })\n  }\n\n  _decodeLogs (tx, receipt, contract, contracts, cb) {\n    if (!contract || !receipt) {\n      return cb('cannot decode logs - contract or receipt not resolved ')\n    }\n    if (!receipt.logs) {\n      return cb(null, { decoded: [], raw: []})\n    }\n    this._decodeEvents(tx, receipt.logs, contract, contracts, cb)\n  }\n\n  _eventABI (contract): Record<string, { event, inputs, object, abi }> {\n    const eventABI: Record<string, { event, inputs, object, abi }> = {}\n    const abi = new ethers.utils.Interface(contract.abi)\n    for (const e in abi.events) {\n      const event = abi.getEvent(e)\n      eventABI[abi.getEventTopic(e).replace('0x', '')] = { event: event.name, inputs: event.inputs, object: event, abi: abi }\n    }\n    return eventABI\n  }\n\n  _eventsABI (compiledContracts): Record<string, unknown> {\n    const eventsABI: Record<string, unknown> = {}\n    visitContracts(compiledContracts, (contract) => {\n      eventsABI[contract.name] = this._eventABI(contract.object)\n    })\n    return eventsABI\n  }\n\n  _event (hash, eventsABI) {\n    // get all the events responding to that hash.\n    const contracts = []\n    for (const k in eventsABI) {\n      if (eventsABI[k][hash]) {\n        const event = eventsABI[k][hash]\n        for (const input of event.inputs) {\n          if (input.type === 'function') {\n            input.type = 'bytes24'\n            input.baseType = 'bytes24'\n          }\n        }\n        contracts.push(event)\n      }\n    }\n    return contracts\n  }\n\n  _stringifyBigNumber (value): string {\n    return value._isBigNumber ? value.toString() : value\n  }\n\n  _stringifyEvent (value) {\n    if (value === null || value === undefined) return ' - '\n    if (value._ethersType) value.type = value._ethersType\n    if (Array.isArray(value)) {\n      // for struct && array\n      return value.map((item) => { return this._stringifyEvent(item) })\n    } else {\n      return this._stringifyBigNumber(value)\n    }\n  }\n\n  _decodeEvents (tx, logs, contractName, compiledContracts, cb) {\n    const eventsABI = this._eventsABI(compiledContracts)\n    const events = []\n    for (const i in logs) {\n      // [address, topics, mem]\n      const log = logs[i]\n      const topicId = log.topics[0]\n      const eventAbis = this._event(topicId.replace('0x', ''), eventsABI)\n      for (const eventAbi of eventAbis) {\n        try {\n          if (eventAbi) {\n            const decodedlog = eventAbi.abi.parseLog(log)\n            const decoded = {}\n            for (const v in decodedlog.args) {\n              decoded[v] = this._stringifyEvent(decodedlog.args[v])\n            }\n            events.push({ from: log.address, topic: topicId, event: eventAbi.event, args: decoded })\n          } else {\n            events.push({ from: log.address, data: log.data, topics: log.topics })\n          }\n          break // if one of the iteration is successful\n        } catch (e) {\n          continue\n        }\n      }\n    }\n    cb(null, { decoded: events, raw: logs })\n  }\n}\n","'use strict'\n\n/**\n  * returns the fork name for the @argument networkId and @argument blockNumber\n  *\n  * @param {Object} networkId - network Id (1 for VM, 3 for Ropsten, 4 for Rinkeby, 5 for Goerli)\n  * @param {Object} blockNumber - block number\n  * @return {String} - fork name (Berlin, Istanbul, ...)\n  */\nexport function forkAt (networkId, blockNumber) {\n  if (forks[networkId]) {\n    let currentForkName = forks[networkId][0].name\n    for (const fork of forks[networkId]) {\n      if (blockNumber >= fork.number) {\n        currentForkName = fork.name\n      }\n    }\n    return currentForkName\n  }\n  return 'london'\n}\n\n// see https://github.com/ethereum/go-ethereum/blob/master/params/config.go\nconst forks = {\n  1: [\n    {\n      number: 4370000,\n      name: 'byzantium'\n    },\n    {\n      number: 7280000,\n      name: 'constantinople'\n    },\n    {\n      number: 7280000,\n      name: 'petersburg'\n    },\n    {\n      number: 9069000,\n      name: 'istanbul'\n    },\n    {\n      number: 9200000,\n      name: 'muirglacier'\n    },\n    {\n      number: 12244000,\n      name: 'berlin'\n    },\n    {\n      number: 12965000,\n      name: 'london'\n    },\n    {\n      number: 13773000,\n      name: 'arrowGlacier'\n    },\n    {\n      number: 15050000,\n      name: 'grayGlacier'\n    },\n    {\n      number: 15537394,\n      name: 'paris'\n    },\n    {\n      number: 17034870,\n      name: 'shanghai'\n    },\n    {\n      number: 19426587,\n      name: 'cancun'\n    }\n  ],\n  3: [\n    {\n      number: 1700000,\n      name: 'byzantium'\n    },\n    {\n      number: 4230000,\n      name: 'constantinople'\n    },\n    {\n      number: 4939394,\n      name: 'petersburg'\n    },\n    {\n      number: 6485846,\n      name: 'istanbul'\n    },\n    {\n      number: 7117117,\n      name: 'muirglacier'\n    },\n    {\n      number: 9812189,\n      name: 'berlin'\n    },\n    {\n      number: 10499401,\n      name: 'london'\n    }\n  ],\n  4: [\n    {\n      number: 1035301,\n      name: 'byzantium'\n    },\n    {\n      number: 3660663,\n      name: 'constantinople'\n    },\n    {\n      number: 4321234,\n      name: 'petersburg'\n    },\n    {\n      number: 5435345,\n      name: 'istanbul'\n    },\n    {\n      number: 8290928,\n      name: 'berlin'\n    },\n    {\n      number: 8897988,\n      name: 'london'\n    }\n  ],\n  5: [\n    {\n      number: 1561651,\n      name: 'istanbul'\n    },\n    {\n      number: 4460644,\n      name: 'berlin'\n    },\n    {\n      number: 5062605,\n      name: 'london'\n    }\n  ]\n}\n","import { eachOf } from 'async'\nimport { randomBytes } from 'crypto'\nimport { toChecksumAddress, bytesToHex } from '@ethereumjs/util'\n\nexport class LogsManager {\n  notificationCallbacks\n  subscriptions\n  filters\n  filterTracking\n  oldLogs\n\n  constructor () {\n    this.notificationCallbacks = []\n    this.subscriptions = {}\n    this.filters = {}\n    this.filterTracking = {}\n    this.oldLogs = []\n  }\n\n  checkBlock (blockNumber, block, web3) {\n    eachOf(block.transactions, (tx: any, i, next) => {\n      const txHash = bytesToHex(tx.hash())\n      web3.eth.getTransactionReceipt(txHash, (_error, receipt) => {\n        if (!receipt) return next()\n        for (const log of receipt.logs) {\n          this.oldLogs.push({ type: 'block', blockNumber, block, tx, log, txNumber: i, receipt })\n          const subscriptions = this.getSubscriptionsFor({ type: 'block', blockNumber, block, tx, log, receipt })\n          for (const subscriptionId of subscriptions) {\n            const result = {\n              logIndex: '0x1', // 1\n              blockNumber: blockNumber,\n              blockHash: bytesToHex(block.hash()),\n              transactionHash: bytesToHex(tx.hash()),\n              transactionIndex: '0x' + i.toString(16),\n              // TODO: if it's a contract deploy, it should be that address instead\n              address: log.address,\n              data: log.data,\n              topics: log.topics\n            }\n\n            if (result.address === '0x') {\n              delete result.address\n            }\n\n            const response = { jsonrpc: '2.0', method: 'eth_subscription', params: { result: result, subscription: subscriptionId } }\n            this.transmit(response)\n          }\n        }\n      })\n    }, (_err) => {\n    })\n  }\n\n  eventMatchesFilter (changeEvent, queryType, queryFilter) {\n    if (queryFilter.topics.filter((logTopic) => changeEvent.log.topics.indexOf(logTopic) >= 0).length === 0) return false\n\n    if (queryType === 'logs') {\n      const fromBlock = parseInt(queryFilter.fromBlock || '0x0')\n      let toBlock\n      if (queryFilter.toBlock === 'latest' || !queryFilter.toBlock) toBlock = Number.MAX_VALUE\n      else toBlock = parseInt(queryFilter.toBlock)\n      const targetAddress = toChecksumAddress(queryFilter.address)\n      if ((toBlock >= parseInt(changeEvent.blockNumber)) && (fromBlock <= parseInt(changeEvent.blockNumber))) {\n        if (changeEvent.log && changeEvent.log.address === targetAddress) {\n          return true\n        }\n      }\n      return false\n    }\n    return false\n  }\n\n  getSubscriptionsFor (changeEvent) {\n    const matchedSubscriptions = []\n    for (const subscriptionId of Object.keys(this.subscriptions)) {\n      const subscriptionParams = this.subscriptions[subscriptionId]\n      const [queryType, queryFilter] = subscriptionParams\n\n      if (this.eventMatchesFilter(changeEvent, queryType, queryFilter || { topics: []})) {\n        matchedSubscriptions.push(subscriptionId)\n      }\n    }\n    return matchedSubscriptions\n  }\n\n  getLogsForSubscription (subscriptionId) {\n    const subscriptionParams = this.subscriptions[subscriptionId]\n    const [_queryType, queryFilter] = subscriptionParams // eslint-disable-line\n\n    return this.getLogsFor(queryFilter)\n  }\n\n  transmit (result) {\n    this.notificationCallbacks.forEach((callback) => {\n      if (result.params.result.raw) {\n        result.params.result.data = result.params.result.raw.data\n        result.params.result.topics = result.params.result.raw.topics\n      }\n      callback(result)\n    })\n  }\n\n  addListener (_type, cb) {\n    this.notificationCallbacks.push(cb)\n  }\n\n  subscribe (params) {\n    const subscriptionId = '0x' + randomBytes(16).toString('hex')\n    this.subscriptions[subscriptionId] = params\n    return subscriptionId\n  }\n\n  unsubscribe (subscriptionId) {\n    delete this.subscriptions[subscriptionId]\n  }\n\n  newFilter (filterType, params) {\n    const filterId = '0x' + randomBytes(16).toString('hex')\n    if (filterType === 'block' || filterType === 'pendingTransactions') {\n      this.filters[filterId] = { filterType }\n    }\n    if (filterType === 'filter') {\n      this.filters[filterId] = { filterType, params }\n    }\n    this.filterTracking[filterId] = {}\n    return filterId\n  }\n\n  uninstallFilter (filterId) {\n    delete this.filters[filterId]\n  }\n\n  getLogsForFilter (filterId, logsOnly) {\n    const { filterType, params } = this.filters[filterId]\n    const tracking = this.filterTracking[filterId]\n\n    if (logsOnly || filterType === 'filter') {\n      return this.getLogsFor(params || { topics: []})\n    }\n    if (filterType === 'block') {\n      const blocks = this.oldLogs.filter(x => x.type === 'block').filter(x => tracking.block === undefined || x.blockNumber >= tracking.block)\n      tracking.block = blocks[blocks.length - 1]\n      return blocks.map(block => bytesToHex(block.hash()))\n    }\n    if (filterType === 'pendingTransactions') {\n      return []\n    }\n  }\n\n  getLogsByTxHash (hash) {\n    return this.oldLogs.filter((log) => bytesToHex(log.tx.hash()) === hash)\n      .map((log) => {\n        return {\n          logIndex: '0x1', // 1\n          blockNumber: log.blockNumber,\n          blockHash: bytesToHex(log.block.hash()),\n          transactionHash: bytesToHex(log.tx.hash()),\n          transactionIndex: '0x' + log.txNumber.toString(16),\n          // TODO: if it's a contract deploy, it should be that address instead\n          address: log.log.address,\n          data: log.log.data,\n          topics: log.log.topics\n        }\n      })\n  }\n\n  getLogsFor (params) {\n    const results = []\n    for (const log of this.oldLogs) {\n      if (this.eventMatchesFilter(log, 'logs', params)) {\n        results.push({\n          logIndex: '0x1', // 1\n          blockNumber: log.blockNumber,\n          blockHash: bytesToHex(log.block.hash()),\n          transactionHash: bytesToHex(log.tx.hash()),\n          transactionIndex: '0x' + log.txNumber.toString(16),\n          // TODO: if it's a contract deploy, it should be that address instead\n          address: log.log.address,\n          data: log.log.data,\n          topics: log.log.topics\n        })\n      }\n    }\n\n    return results\n  }\n}\n","'use strict'\nimport { ethers } from 'ethers'\nimport { getFunctionFragment } from './txHelper'\n\n/**\n  * deploy the given contract\n  *\n  * @param {String} from    - sender address\n  * @param {String} data    - data to send with the transaction ( return of txFormat.buildData(...) ).\n  * @param {String} value    - decimal representation of value.\n  * @param {String} gasLimit    - decimal representation of gas limit.\n  * @param {Object} txRunner    - TxRunner.js instance\n  * @param {Object} callbacks    - { confirmationCb, gasEstimationForceSend, promptCb }\n  *     [validate transaction] confirmationCb (network, tx, gasEstimation, continueTxExecution, cancelCb)\n  *     [transaction failed, force send] gasEstimationForceSend (error, continueTxExecution, cancelCb)\n  *     [personal mode enabled, need password to continue] promptCb (okCb, cancelCb)\n  * @param {Function} finalCallback    - last callback.\n  */\nexport function createContract (from, data, value, gasLimit, txRunner, callbacks, finalCallback) {\n  if (!callbacks.confirmationCb || !callbacks.gasEstimationForceSend || !callbacks.promptCb) {\n    return finalCallback('all the callbacks must have been defined')\n  }\n  const tx = { from: from, to: null, data: data, useCall: false, value: value, gasLimit: gasLimit }\n  txRunner.rawRun(tx, callbacks.confirmationCb, callbacks.gasEstimationForceSend, callbacks.promptCb, (error, txResult) => {\n    // see universaldapp.js line 660 => 700 to check possible values of txResult (error case)\n    finalCallback(error, txResult)\n  })\n}\n\n/**\n  * call the current given contract ! that will create a transaction !\n  *\n  * @param {String} from    - sender address\n  * @param {String} to    - recipient address\n  * @param {String} data    - data to send with the transaction ( return of txFormat.buildData(...) ).\n  * @param {String} value    - decimal representation of value.\n  * @param {String} gasLimit    - decimal representation of gas limit.\n  * @param {Object} txRunner    - TxRunner.js instance\n  * @param {Object} callbacks    - { confirmationCb, gasEstimationForceSend, promptCb }\n  *     [validate transaction] confirmationCb (network, tx, gasEstimation, continueTxExecution, cancelCb)\n  *     [transaction failed, force send] gasEstimationForceSend (error, continueTxExecution, cancelCb)\n  *     [personal mode enabled, need password to continue] promptCb (okCb, cancelCb)\n  * @param {Function} finalCallback    - last callback.\n  */\nexport function callFunction (from, to, data, value, gasLimit, funAbi, txRunner, callbacks, finalCallback) {\n  const useCall = funAbi.stateMutability === 'view' || funAbi.stateMutability === 'pure' || funAbi.constant\n  const tx = { from, to, data, useCall, value, gasLimit }\n  txRunner.rawRun(tx, callbacks.confirmationCb, callbacks.gasEstimationForceSend, callbacks.promptCb, (error, txResult) => {\n    // see universaldapp.js line 660 => 700 to check possible values of txResult (error case)\n    finalCallback(error, txResult)\n  })\n}\n\n/**\n  * check if the vm has errored\n  *\n  * @param {Object} execResult    - execution result given by the VM, contain errorMessage and errorDate\n  * @param {Object} compiledContracts - Object containing contract compilation details\n  * @return {Object} -  { error: true/false, message: DOMNode }\n  */\nexport function checkError (execResult, compiledContracts) {\n  const errorCode = {\n    OUT_OF_GAS: 'out of gas',\n    STACK_UNDERFLOW: 'stack underflow',\n    STACK_OVERFLOW: 'stack overflow',\n    INVALID_JUMP: 'invalid JUMP',\n    INVALID_OPCODE: 'invalid opcode',\n    REVERT: 'revert',\n    STATIC_STATE_CHANGE: 'static state change',\n    INTERNAL_ERROR: 'internal error',\n    CREATE_COLLISION: 'create collision',\n    STOP: 'stop',\n    REFUND_EXHAUSTED: 'refund exhausted'\n  }\n  const ret = {\n    error: false,\n    message: ''\n  }\n  if (!execResult.errorMessage) {\n    return ret\n  }\n  const exceptionError = execResult.errorMessage || ''\n  const error = `Error occurred: ${execResult.errorMessage}.\\n`\n  let msg = ''\n  if (exceptionError.includes(errorCode.INVALID_OPCODE)) {\n    msg = '\\t\\n\\tThe execution might have thrown OR the EVM version used by the selected environment is not compatible with the compiler EVM version.\\n'\n    ret.error = true\n  } else if (exceptionError === errorCode.OUT_OF_GAS) {\n    msg = '\\tThe transaction ran out of gas. Please increase the Gas Limit.\\n'\n    ret.error = true\n  } else if (exceptionError === errorCode.REVERT || exceptionError === 'execution reverted') {\n    const returnData = execResult.errorData || '0x00000000'\n    const returnDataHex = returnData.slice(2, 10)\n    let customError\n    if (compiledContracts) {\n      let decodedCustomErrorInputsClean\n      for (const file of Object.keys(compiledContracts)) {\n        for (const contractName of Object.keys(compiledContracts[file])) {\n          const contract = compiledContracts[file][contractName]\n          for (const item of contract.abi) {\n            if (item.type === 'error') {\n              // ethers doesn't crash anymore if \"error\" type is specified, but it doesn't extract the errors. see:\n              // https://github.com/ethers-io/ethers.js/commit/bd05aed070ac9e1421a3e2bff2ceea150bedf9b7\n              // we need here to fake the type, so the \"getSighash\" function works properly\n              const fn = getFunctionFragment({ ...item, type: 'function', stateMutability: 'nonpayable' })\n              if (!fn) continue\n              const sign = fn.getSighash(item.name)\n              if (!sign) continue\n              if (returnDataHex === sign.replace('0x', '')) {\n                customError = item.name\n                const functionDesc = fn.getFunction(item.name)\n                // decoding error parameters\n                const decodedCustomErrorInputs = fn.decodeFunctionData(functionDesc, returnData)\n                decodedCustomErrorInputsClean = {}\n                let devdoc = {}\n                // \"contract\" represents the compilation result containing the NATSPEC documentation\n                if (contract && fn.functions && Object.keys(fn.functions).length) {\n                  const functionSignature = Object.keys(fn.functions)[0]\n                  // we check in the 'devdoc' if there's a developer documentation for this error\n                  try {\n                    devdoc = (contract.devdoc.errors && contract.devdoc.errors[functionSignature][0]) || {}\n                  } catch (e) {\n                    console.error(e.message)\n                  }\n                  // we check in the 'userdoc' if there's an user documentation for this error\n                  try {\n                    const userdoc = (contract.userdoc.errors && contract.userdoc.errors[functionSignature][0]) || {}\n                    if (userdoc && (userdoc as any).notice) customError += ' : ' + (userdoc as any).notice // we append the user doc if any\n                  } catch (e) {\n                    console.error(e.message)\n                  }\n                }\n                let inputIndex = 0\n                for (const input of functionDesc.inputs) {\n                  const inputKey = input.name || inputIndex\n                  const v = decodedCustomErrorInputs[inputKey]\n\n                  decodedCustomErrorInputsClean[inputKey] = {\n                    value: v.toString ? v.toString() : v\n                  }\n                  if (devdoc && (devdoc as any).params) {\n                    decodedCustomErrorInputsClean[input.name].documentation = (devdoc as any).params[inputKey] // we add the developer documentation for this input parameter if any\n                  }\n                  inputIndex++\n                }\n                break\n              }\n            }\n          }\n        }\n      }\n      if (decodedCustomErrorInputsClean) {\n        msg = '\\tThe transaction has been reverted to the initial state.\\nError provided by the contract:'\n        msg += `\\n${customError}`\n        msg += '\\nParameters:'\n        msg += `\\n${JSON.stringify(decodedCustomErrorInputsClean, null, ' ')}`\n      }\n    }\n    if (!customError) {\n      // It is the hash of Error(string)\n      if (returnData && (returnDataHex === '08c379a0')) {\n        const abiCoder = new ethers.utils.AbiCoder()\n        const reason = abiCoder.decode(['string'], '0x' + returnData.slice(10))[0]\n        msg = `\\tThe transaction has been reverted to the initial state.\\nReason provided by the contract: \"${reason}\".`\n      } else {\n        msg = '\\tThe transaction has been reverted to the initial state.\\nNote: The called function should be payable if you send value and the value you send should be less than your current balance.'\n      }\n    }\n    ret.error = true\n  } else if (exceptionError === errorCode.STATIC_STATE_CHANGE) {\n    msg = '\\tState changes is not allowed in Static Call context\\n'\n    ret.error = true\n  }\n  ret.message = `${error}\\n${exceptionError}\\n${msg}\\nYou may want to cautiously increase the gas limit if the transaction went out of gas.`\n  return ret\n}\n","'use strict'\nimport { ethers } from 'ethers'\nimport { encodeParams as encodeParamsHelper, encodeFunctionId, makeFullTypeDefinition } from './txHelper'\nimport { eachOfSeries } from 'async'\nimport { linkBytecode as linkBytecodeSolc } from 'solc/linker'\nimport { isValidAddress, addHexPrefix } from '@ethereumjs/util'\nimport fromExponential from 'from-exponential';\n\n/**\n  * build the transaction data\n  *\n  * @param {Object} function abi\n  * @param {Object} values to encode\n  * @param {String} contractbyteCode\n  */\nexport function encodeData (funABI, values, contractbyteCode) {\n  let encoded\n  let encodedHex\n  try {\n    encoded = encodeParamsHelper(funABI, values)\n    encodedHex = encoded.toString('hex')\n  } catch (e) {\n    return { error: 'cannot encode arguments' }\n  }\n  if (contractbyteCode) {\n    return { data: '0x' + contractbyteCode + encodedHex.replace('0x', '') }\n  } else {\n    return { data: encodeFunctionId(funABI) + encodedHex.replace('0x', '') }\n  }\n}\n\n/**\n* encode function / constructor parameters\n*\n* @param {Object} params    - input parameter of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n*/\nexport function encodeParams (params, funAbi, callback?) {\n  return new Promise((resolve, reject) => {\n    let data: Buffer | string = ''\n    let dataHex = ''\n    let funArgs = []\n    if (Array.isArray(params)) {\n      funArgs = params\n      if (funArgs.length > 0) {\n        try {\n          data = encodeParamsHelper(funAbi, funArgs)\n          dataHex = data.toString()\n        } catch (e) {\n          reject('Error encoding arguments: ' + e)\n          return callback && callback('Error encoding arguments: ' + e)\n        }\n      }\n      if (data.slice(0, 9) === 'undefined') {\n        dataHex = data.slice(9)\n      }\n      if (data.slice(0, 2) === '0x') {\n        dataHex = data.slice(2)\n      }\n    } else if (params.indexOf('raw:0x') === 0) {\n      // in that case we consider that the input is already encoded and *does not* contain the method signature\n      dataHex = params.replace('raw:0x', '')\n      data = Buffer.from(dataHex, 'hex')\n    } else {\n      try {\n        funArgs = parseFunctionParams(params)\n      } catch (e) {\n        reject('Error encoding arguments: ' + e)\n        return callback && callback('Error encoding arguments: ' + e)\n      }\n      try {\n        if (funArgs.length > 0) {\n          data = encodeParamsHelper(funAbi, funArgs)\n          dataHex = data.toString()\n        }\n      } catch (e) {\n        reject('Error encoding arguments: ' + e)\n        return callback && callback('Error encoding arguments: ' + e)\n      }\n      if (data.slice(0, 9) === 'undefined') {\n        dataHex = data.slice(9)\n      }\n      if (data.slice(0, 2) === '0x') {\n        dataHex = data.slice(2)\n      }\n    }\n    const result = { data: data, dataHex: dataHex, funArgs: funArgs }\n    callback && callback(null, result)\n    resolve(result)\n  })\n}\n\n/**\n* encode function call (function id + encoded parameters)\n*\n* @param {Object} params    - input parameter of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n*/\nexport function encodeFunctionCall (params, funAbi, callback) {\n  encodeParams(params, funAbi, (error, encodedParam) => {\n    if (error) return callback(error)\n    callback(null, { dataHex: encodeFunctionId(funAbi) + encodedParam.dataHex, funAbi, funArgs: encodedParam.funArgs })\n  })\n}\n\n/**\n* encode constructor creation and link with provided libraries if needed\n*\n* @param {Object} contract    - input parameter of the function to call\n* @param {Object} params    - input parameter of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Object} linkLibraries    - contains {linkReferences} object which list all the addresses to be linked\n* @param {Object} linkReferences    - given by the compiler, contains the proper linkReferences\n* @param {Function} callback    - callback\n*/\nexport function encodeConstructorCallAndLinkLibraries (contract, params, funAbi, linkLibrariesAddresses, linkReferences, callback) {\n  encodeParams(params, funAbi, (error, encodedParam) => {\n    if (error) return callback(error)\n    linkLibraries(contract, linkLibrariesAddresses, linkReferences, (error, bytecodeToDeploy) => {\n      callback(error, { dataHex: bytecodeToDeploy + encodedParam.dataHex, funAbi, funArgs: encodedParam.funArgs, contractBytecode: contract.evm.bytecode.object })\n    })\n  })\n}\n\n/**\n* link with provided libraries if needed\n*\n* @param {Object} contract    - input parameter of the function to call\n* @param {Object} linkLibraries    - contains {linkReferences} object which list all the addresses to be linked\n* @param {Object} linkReferences    - given by the compiler, contains the proper linkReferences\n* @param {Function} callback    - callback\n*/\nexport function linkLibraries (contract, linkLibraries, linkReferences, callback) {\n  let bytecodeToDeploy = contract.evm.bytecode.object\n  if (bytecodeToDeploy.indexOf('_') >= 0) {\n    if (linkLibraries && linkReferences) {\n      for (const libFile in linkLibraries) {\n        for (const lib in linkLibraries[libFile]) {\n          const address = linkLibraries[libFile][lib]\n          if (!isValidAddress(address)) return callback(address + ' is not a valid address. Please check the provided address is valid.')\n          bytecodeToDeploy = linkLibraryStandardFromlinkReferences(lib, address.replace('0x', ''), bytecodeToDeploy, linkReferences)\n        }\n      }\n    }\n  }\n  if (bytecodeToDeploy.indexOf('_') >= 0) {\n    return callback('Failed to link some libraries')\n  }\n  return callback(null, bytecodeToDeploy)\n}\n\n/**\n* encode constructor creation and deploy libraries if needed\n*\n* @param {String} contractName    - current contract name\n* @param {Object} contract    - input parameter of the function to call\n* @param {Object} contracts    - map of all compiled contracts.\n* @param {Object} params    - input parameter of the function to call\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Function} callback    - callback\n* @param {Function} callbackStep  - callbackStep\n* @param {Function} callbackDeployLibrary  - callbackDeployLibrary\n* @param {Function} callback    - callback\n*/\nexport function encodeConstructorCallAndDeployLibraries (contractName, contract, contracts, params, funAbi, callback, callbackStep, callbackDeployLibrary) {\n  encodeParams(params, funAbi, (error, encodedParam) => {\n    if (error) return callback(error)\n    let dataHex = ''\n    const contractBytecode = contract.evm.bytecode.object\n    let bytecodeToDeploy = contract.evm.bytecode.object\n    if (bytecodeToDeploy.indexOf('_') >= 0) {\n      linkBytecode(contract, contracts, (err, bytecode) => {\n        if (err) {\n          callback('Error deploying required libraries: ' + err)\n        } else {\n          bytecodeToDeploy = bytecode + dataHex\n          return callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs: encodedParam.funArgs, contractBytecode, contractName: contractName })\n        }\n      }, callbackStep, callbackDeployLibrary)\n      return\n    } else {\n      dataHex = bytecodeToDeploy + encodedParam.dataHex\n    }\n    callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs: encodedParam.funArgs, contractBytecode, contractName: contractName })\n  })\n}\n\n/**\n* (DEPRECATED) build the transaction data\n*\n* @param {String} contractName\n* @param {Object} contract    - abi definition of the current contract.\n* @param {Object} contracts    - map of all compiled contracts.\n* @param {Bool} isConstructor    - isConstructor.\n* @param {Object} funAbi    - abi definition of the function to call. null if building data for the ctor.\n* @param {Object} params    - input parameter of the function to call\n* @param {Function} callback    - callback\n* @param {Function} callbackStep  - callbackStep\n* @param {Function} callbackDeployLibrary  - callbackDeployLibrary\n*/\nexport function buildData (contractName, contract, contracts, isConstructor, funAbi, params, callback, callbackStep, callbackDeployLibrary) {\n  let funArgs = []\n  let data: Buffer | string = ''\n  let dataHex = ''\n\n  if (params.indexOf('raw:0x') === 0) {\n    // in that case we consider that the input is already encoded and *does not* contain the method signature\n    dataHex = params.replace('raw:0x', '')\n    data = Buffer.from(dataHex, 'hex')\n  } else {\n    try {\n      if (params.length > 0) {\n        funArgs = parseFunctionParams(params)\n      }\n    } catch (e) {\n      return callback('Error encoding arguments: ' + e)\n    }\n    try {\n      data = encodeParamsHelper(funAbi, funArgs)\n      dataHex = data.toString()\n    } catch (e) {\n      return callback('Error encoding arguments: ' + e)\n    }\n    if (data.slice(0, 9) === 'undefined') {\n      dataHex = data.slice(9)\n    }\n    if (data.slice(0, 2) === '0x') {\n      dataHex = data.slice(2)\n    }\n  }\n  let contractBytecode\n  if (isConstructor) {\n    contractBytecode = contract.evm.bytecode.object\n    let bytecodeToDeploy = contract.evm.bytecode.object\n    if (bytecodeToDeploy.indexOf('_') >= 0) {\n      linkBytecode(contract, contracts, (err, bytecode) => {\n        if (err) {\n          callback('Error deploying required libraries: ' + err)\n        } else {\n          bytecodeToDeploy = bytecode + dataHex\n          return callback(null, { dataHex: bytecodeToDeploy, funAbi, funArgs, contractBytecode, contractName: contractName })\n        }\n      }, callbackStep, callbackDeployLibrary)\n      return\n    } else {\n      dataHex = bytecodeToDeploy + dataHex\n    }\n  } else {\n    dataHex = encodeFunctionId(funAbi) + dataHex\n  }\n  callback(null, { dataHex, funAbi, funArgs, contractBytecode, contractName: contractName })\n}\n\nexport function atAddress () {}\n\nexport function linkBytecodeStandard (contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n  let contractBytecode = contract.evm.bytecode.object\n  eachOfSeries(contract.evm.bytecode.linkReferences, (libs, file, cbFile) => {\n    eachOfSeries(contract.evm.bytecode.linkReferences[file], (libRef, libName, cbLibDeployed) => {\n      const library = contracts[file][libName]\n      if (library) {\n        deployLibrary(file + ':' + libName, libName, library, contracts, (error, address) => {\n          if (error) {\n            return cbLibDeployed(error)\n          }\n          let hexAddress = address.toString('hex')\n          if (hexAddress.slice(0, 2) === '0x') {\n            hexAddress = hexAddress.slice(2)\n          }\n          contractBytecode = linkLibraryStandard(libName, hexAddress, contractBytecode, contract)\n          cbLibDeployed()\n        }, callbackStep, callbackDeployLibrary)\n      } else {\n        //@ts-ignore\n        cbLibDeployed('Cannot find compilation data of library ' + libName)\n      }\n    }, (error) => {\n      cbFile(error)\n    })\n  }, (error) => {\n    if (error) {\n      callbackStep(error)\n    }\n    callback(error, contractBytecode)\n  })\n}\n\nexport function linkBytecodeLegacy (contract, contracts, callback, callbackStep, callbackDeployLibrary) {\n  const libraryRefMatch = contract.evm.bytecode.object.match(/__([^_]{1,36})__/)\n  if (!libraryRefMatch) {\n    return callback('Invalid bytecode format.')\n  }\n  const libraryName = libraryRefMatch[1]\n  // file_name:library_name\n  const libRef = libraryName.match(/(.*):(.*)/)\n  if (!libRef) {\n    return callback('Cannot extract library reference ' + libraryName)\n  }\n  if (!contracts[libRef[1]] || !contracts[libRef[1]][libRef[2]]) {\n    return callback('Cannot find library reference ' + libraryName)\n  }\n  const libraryShortName = libRef[2]\n  const library = contracts[libRef[1]][libraryShortName]\n  if (!library) {\n    return callback('Library ' + libraryName + ' not found.')\n  }\n  deployLibrary(libraryName, libraryShortName, library, contracts, (err, address) => {\n    if (err) {\n      return callback(err)\n    }\n    let hexAddress = address.toString('hex')\n    if (hexAddress.slice(0, 2) === '0x') {\n      hexAddress = hexAddress.slice(2)\n    }\n    contract.evm.bytecode.object = linkLibrary(libraryName, hexAddress, contract.evm.bytecode.object)\n    linkBytecode(contract, contracts, callback, callbackStep, callbackDeployLibrary)\n  }, callbackStep, callbackDeployLibrary)\n}\n\nexport function linkBytecode (contract, contracts, callback?, callbackStep?, callbackDeployLibrary?) {\n  if (contract.evm.bytecode.object.indexOf('_') < 0) {\n    return callback(null, contract.evm.bytecode.object)\n  }\n  if (contract.evm.bytecode.linkReferences && Object.keys(contract.evm.bytecode.linkReferences).length) {\n    linkBytecodeStandard(contract, contracts, callback, callbackStep, callbackDeployLibrary)\n  } else {\n    linkBytecodeLegacy(contract, contracts, callback, callbackStep, callbackDeployLibrary)\n  }\n}\n\nexport function deployLibrary (libraryName, libraryShortName, library, contracts, callback, callbackStep, callbackDeployLibrary) {\n  const address = library.address\n  if (address) {\n    return callback(null, address)\n  }\n  const bytecode = library.evm.bytecode.object\n  if (bytecode.indexOf('_') >= 0) {\n    linkBytecode(library, contracts, (err, bytecode) => {\n      if (err) callback(err)\n      else {\n        library.evm.bytecode.object = bytecode\n        deployLibrary(libraryName, libraryShortName, library, contracts, callback, callbackStep, callbackDeployLibrary)\n      }\n    }, callbackStep, callbackDeployLibrary)\n  } else {\n    callbackStep(`creation of library ${libraryName} pending...`)\n    const data = { dataHex: bytecode, funAbi: { type: 'constructor' }, funArgs: [], contractBytecode: bytecode, contractName: libraryShortName, contractABI: library.abi }\n    callbackDeployLibrary({ data: data, useCall: false }, (err, txResult) => {\n      if (err) {\n        return callback(err)\n      }\n      const address = txResult.receipt.contractAddress\n      library.address = address\n      callback(err, address)\n    })\n  }\n}\n\nexport function linkLibraryStandardFromlinkReferences (libraryName, address, bytecode, linkReferences) {\n  for (const file in linkReferences) {\n    for (const libName in linkReferences[file]) {\n      if (libraryName === libName) {\n        bytecode = setLibraryAddress(address, bytecode, linkReferences[file][libName])\n      }\n    }\n  }\n  return bytecode\n}\n\nexport function linkLibraryStandard (libraryName, address, bytecode, contract) {\n  return linkLibraryStandardFromlinkReferences(libraryName, address, bytecode, contract.evm.bytecode.linkReferences)\n}\n\nexport function setLibraryAddress (address, bytecodeToLink, positions) {\n  if (positions) {\n    for (const pos of positions) {\n      const regpos = bytecodeToLink.match(new RegExp(`(.{${2 * pos.start}})(.{${2 * pos.length}})(.*)`))\n      if (regpos) {\n        bytecodeToLink = regpos[1] + address + regpos[3]\n      }\n    }\n  }\n  return bytecodeToLink\n}\n\nexport function linkLibrary (libraryName, address, bytecodeToLink) {\n  return linkBytecodeSolc(bytecodeToLink, { [libraryName]: addHexPrefix(address) })\n}\n\nexport function decodeResponse (response, fnabi) {\n  // Only decode if there supposed to be fields\n  if (fnabi.outputs && fnabi.outputs.length > 0) {\n    try {\n      let i\n      const outputTypes = []\n      for (i = 0; i < fnabi.outputs.length; i++) {\n        const type = fnabi.outputs[i].type\n        outputTypes.push(type.indexOf('tuple') === 0 ? makeFullTypeDefinition(fnabi.outputs[i]) : type)\n      }\n      if (!response || !response.length) response = new Uint8Array(32 * fnabi.outputs.length) // ensuring the data is at least filled by 0 cause `AbiCoder` throws if there's not enough data\n      // decode data\n      const abiCoder = new ethers.utils.AbiCoder()\n      const decodedObj = abiCoder.decode(outputTypes, response)\n\n      const json = {}\n      for (i = 0; i < outputTypes.length; i++) {\n        const name = fnabi.outputs[i].name\n        json[i] = outputTypes[i] + ': ' + (name ? name + ' ' + decodedObj[i] : decodedObj[i])\n      }\n\n      return json\n    } catch (e) {\n      return { error: 'Failed to decode output: ' + e }\n    }\n  }\n  return {}\n}\n\nexport function parseFunctionParams (params) {\n  const args = []\n  // Check if parameter string starts with array or string\n  let startIndex = isArrayOrStringStart(params, 0) ? -1 : 0\n  for (let i = 0; i < params.length; i++) {\n    // If a quote is received\n    if (params.charAt(i) === '\"') {\n      startIndex = -1\n      let endQuoteIndex = false\n      // look for closing quote. On success, push the complete string in arguments list\n      for (let j = i + 1; !endQuoteIndex; j++) {\n        if (params.charAt(j) === '\"') {\n          args.push(normalizeParam(params.substring(i + 1, j)))\n          endQuoteIndex = true\n          i = j\n        }\n        // Throw error if end of params string is arrived but couldn't get end quote\n        if (!endQuoteIndex && j === params.length - 1) {\n          throw new Error('invalid params')\n        }\n      }\n    } else if (params.charAt(i) === '[') { // If an array/struct opening bracket is received\n      startIndex = -1\n      let bracketCount = 1\n      let j\n      for (j = i + 1; bracketCount !== 0; j++) {\n        // Increase count if another array opening bracket is received (To handle nested array)\n        if (params.charAt(j) === '[') {\n          bracketCount++\n        } else if (params.charAt(j) === ']') { // // Decrease count if an array closing bracket is received (To handle nested array)\n          bracketCount--\n        }\n        // Throw error if end of params string is arrived but couldn't get end of tuple\n        if (bracketCount !== 0 && j === params.length - 1) {\n          throw new Error('invalid tuple params')\n        }\n        if (bracketCount === 0) break\n      }\n      args.push(parseFunctionParams(params.substring(i + 1, j)))\n      i = j - 1\n    } else if (params.charAt(i) === ',' || i === params.length - 1) { // , or end of string\n      // if startIndex >= 0, it means a parameter was being parsed, it can be first or other parameter\n      if (startIndex >= 0) {\n        let param = params.substring(startIndex, i === params.length - 1 ? undefined : i)\n        param = normalizeParam(param)\n        args.push(param)\n      }\n      // Register start index of a parameter to parse\n      startIndex = isArrayOrStringStart(params, i + 1) ? -1 : i + 1\n    }\n  }\n  return args\n}\n\nexport const normalizeParam = (param) => {\n  param = param.trim()\n  if (param.startsWith('0x')) param = `${param}`\n  if (/[0-9]/g.test(param)) param = `${param}`\n\n  // fromExponential\n  if (!param.startsWith('0x')) {\n    const regSci = REGEX_SCIENTIFIC.exec(param)\n    const exponents = regSci ? regSci[2] : null\n    if (regSci && REGEX_DECIMAL.exec(exponents)) {\n      try {\n        let paramTrimmed = param.replace(/^'/g, '').replace(/'$/g, '')\n        paramTrimmed = paramTrimmed.replace(/^\"/g, '').replace(/\"$/g, '')\n        param = fromExponential(paramTrimmed)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  if (typeof param === 'string') {\n    if (param === 'true') param = true\n    if (param === 'false') param = false\n  }\n  return param\n}\n\nexport const REGEX_SCIENTIFIC = /^-?(\\d+\\.?\\d*)e\\d*(\\d+)$/\n\nexport const REGEX_DECIMAL = /^\\d*/\n\nexport function isArrayOrStringStart (str, index) {\n  return str.charAt(index) === '\"' || str.charAt(index) === '['\n}\n","'use strict'\nimport { ethers } from 'ethers'\n\nexport function makeFullTypeDefinition (typeDef) {\n  if (typeDef && typeDef.type.indexOf('tuple') === 0 && typeDef.components) {\n    const innerTypes = typeDef.components.map((innerType) => { return makeFullTypeDefinition(innerType) })\n    return `tuple(${innerTypes.join(',')})${extractSize(typeDef.type)}`\n  }\n  return typeDef.type\n}\n\nexport function encodeParams (funABI, args) {\n  const types = []\n  if (funABI.inputs && funABI.inputs.length) {\n    for (let i = 0; i < funABI.inputs.length; i++) {\n      const type = funABI.inputs[i].type\n      if (type === 'bool') {\n        if (args[i] === false || args[i] === 'false' || args[i] === '0' || args[i] === 0) args[i] = false\n        else if (args[i] === true || args[i] === 'true' || args[i] === '1' || args[i] === 1) args[i] = true\n        else throw new Error(`provided value for boolean is invalid: ${args[i]}`)\n      }\n      types.push(type.indexOf('tuple') === 0 ? makeFullTypeDefinition(funABI.inputs[i]) : type)\n      if (args.length < types.length) {\n        args.push('')\n      }\n    }\n  }\n\n  // NOTE: the caller will concatenate the bytecode and this\n  //       it could be done here too for consistency\n  const abiCoder = new ethers.utils.AbiCoder()\n  return abiCoder.encode(types, args)\n}\n\nexport function encodeFunctionId (funABI) {\n  if (funABI.type === 'fallback' || funABI.type === 'receive') return '0x'\n  const abi = new ethers.utils.Interface([funABI])\n  return abi.getSighash(funABI.name)\n}\n\nexport function getFunctionFragment (funABI): ethers.utils.Interface {\n  if (funABI.type === 'fallback' || funABI.type === 'receive') return null\n  return new ethers.utils.Interface([funABI])\n}\n\nexport function sortAbiFunction (contractabi) {\n  // Check if function is constant (introduced with Solidity 0.6.0)\n  const isConstant = ({ stateMutability }) => stateMutability === 'view' || stateMutability === 'pure'\n  // Sorts the list of ABI entries. Constant functions will appear first,\n  // followed by non-constant functions. Within those t wo groupings, functions\n  // will be sorted by their names.\n  return contractabi.sort(function (a, b) {\n    if (isConstant(a) && !isConstant(b)) {\n      return 1\n    } else if (isConstant(b) && !isConstant(a)) {\n      return -1\n    }\n    // If we reach here, either a and b are both constant or both not; sort by name then\n    // special case for fallback, receive and constructor function\n    if (a.type === 'function' && typeof a.name !== 'undefined') {\n      return a.name.localeCompare(b.name)\n    } else if (a.type === 'constructor' || a.type === 'fallback' || a.type === 'receive') {\n      return 1\n    }\n  })\n}\n\nexport function getConstructorInterface (abi) {\n  const funABI = { name: '', inputs: [], type: 'constructor', payable: false, outputs: []}\n  if (typeof abi === 'string') {\n    try {\n      abi = JSON.parse(abi)\n    } catch (e) {\n      console.log('exception retrieving ctor abi ' + abi)\n      return funABI\n    }\n  }\n\n  for (let i = 0; i < abi.length; i++) {\n    if (abi[i].type === 'constructor') {\n      funABI.inputs = abi[i].inputs || []\n      funABI.payable = abi[i].payable\n      funABI['stateMutability'] = abi[i].stateMutability\n      break\n    }\n  }\n\n  return funABI\n}\n\nexport function serializeInputs (fnAbi) {\n  let serialized = '('\n  if (fnAbi.inputs && fnAbi.inputs.length) {\n    serialized += fnAbi.inputs.map((input) => { return input.type }).join(',')\n  }\n  serialized += ')'\n  return serialized\n}\n\nexport function extractSize (type) {\n  const size = type.match(/([a-zA-Z0-9])(\\[.*\\])/)\n  return size ? size[2] : ''\n}\n\nexport function getFunctionLiner (fn, detailTuple: boolean = true) {\n  /*\n    if detailsTuple is True, this will return something like fnName((uint, string))\n    if detailsTuple is False, this will return something like fnName(tuple)\n  */\n  return fn.name + '(' + fn.inputs.map((value) => {\n    if (detailTuple && value.components) {\n      const fullType = makeFullTypeDefinition(value)\n      return fullType.replace(/tuple/g, '') // return of makeFullTypeDefinition might contain `tuple`, need to remove it cause `methodIdentifier` (fnName) does not include `tuple` keyword\n    } else {\n      return value.type\n    }\n  }).join(',') + ')'\n}\n\nexport function getFunction (abi, fnName) {\n  for (let i = 0; i < abi.length; i++) {\n    const fn = abi[i]\n    if (fn.type === 'function' && (fnName === getFunctionLiner(fn, true) || fnName === getFunctionLiner(fn, false))) {\n      return fn\n    }\n  }\n  return null\n}\n\nexport function getFallbackInterface (abi) {\n  for (let i = 0; i < abi.length; i++) {\n    if (abi[i].type === 'fallback') {\n      return abi[i]\n    }\n  }\n}\n\nexport function getReceiveInterface (abi) {\n  for (let i = 0; i < abi.length; i++) {\n    if (abi[i].type === 'receive') {\n      return abi[i]\n    }\n  }\n}\n\n/**\n  * return the contract obj of the given @arg name. Uses last compilation result.\n  * return null if not found\n  * @param {String} name    - contract name\n  * @returns contract obj and associated file: { contract, file } or null\n  */\nexport function getContract (contractName, contracts) {\n  for (const file in contracts) {\n    if (contracts[file][contractName]) {\n      return { object: contracts[file][contractName], file: file }\n    }\n  }\n  return null\n}\n\n/**\n  * call the given @arg cb (function) for all the contracts. Uses last compilation result\n  * stop visiting when cb return true\n  * @param {Function} cb    - callback\n  */\nexport function visitContracts (contracts, cb) {\n  for (const file in contracts) {\n    for (const name in contracts[file]) {\n      if (cb({ name: name, object: contracts[file][name], file: file })) return\n    }\n  }\n}\n\nexport function inputParametersDeclarationToString (abiinputs) {\n  const inputs = (abiinputs || []).map((inp) => inp.type + ' ' + inp.name)\n  return inputs.join(', ')\n}\n","'use strict'\nimport { ethers } from 'ethers'\nimport { toBytes, addHexPrefix } from '@ethereumjs/util'\nimport { EventManager } from '../eventManager'\nimport { compareByteCode, getinputParameters } from '../util'\nimport { decodeResponse } from './txFormat'\nimport { getFunction, getReceiveInterface, getConstructorInterface, visitContracts, makeFullTypeDefinition } from './txHelper'\n\nfunction addExecutionCosts (txResult, tx, execResult) {\n  if (txResult) {\n    if (execResult) {\n      tx.returnValue = execResult.returnValue\n      if (execResult.executionGasUsed) tx.executionCost = execResult.executionGasUsed.toString(10)\n    }\n    if (txResult.receipt && txResult.receipt.gasUsed) tx.transactionCost = txResult.receipt.gasUsed.toString(10)\n  }\n}\n\n/**\n  * poll web3 each 2s if web3\n  * listen on transaction executed event if VM\n  * attention: blocks returned by the event `newBlock` have slightly different json properties whether web3 or the VM is used\n  * trigger 'newBlock'\n  *\n  */\nexport class TxListener {\n  event\n  executionContext\n  _resolvedTransactions\n  _api\n  _resolvedContracts\n  _isListening: boolean\n  _listenOnNetwork:boolean\n  _loopId\n  blocks\n\n  constructor (opt, executionContext) {\n    this.event = new EventManager()\n    // has a default for now for backwards compatibility\n    this.executionContext = executionContext\n    this._api = opt.api\n    this._resolvedTransactions = {}\n    this._resolvedContracts = {}\n    this._isListening = false\n    this._listenOnNetwork = false\n    this._loopId = null\n    this.init()\n    this.executionContext.event.register('contextChanged', (context) => {\n      if (this._isListening) {\n        this.stopListening()\n        this.startListening()\n      }\n    })\n\n    opt.event.udapp.register('callExecuted', async (error, from, to, data, lookupOnly, txResult) => {\n      if (error) return\n      // we go for that case if\n      // in VM mode\n      // in web3 mode && listen remix txs only\n      if (!this._isListening) return // we don't listen\n      if (this._loopId) return // we seems to already listen on a \"web3\" network\n\n      let returnValue\n      let execResult\n      if (this.executionContext.isVM()) {\n        execResult = await this.executionContext.web3().remix.getExecutionResultFromSimulator(txResult.transactionHash)\n        returnValue = toBytes(execResult.returnValue)\n      } else {\n        returnValue = toBytes(addHexPrefix(txResult.result))\n      }\n      const call = {\n        from: from,\n        to: to,\n        input: data,\n        hash: txResult.transactionHash ? txResult.transactionHash : 'call' + (from || '') + to + data,\n        isCall: true,\n        returnValue,\n        envMode: this.executionContext.getProvider()\n      }\n\n      addExecutionCosts(txResult, call, execResult)\n      this._resolveTx(call, call, (error, resolvedData) => {\n        if (!error) {\n          this.event.trigger('newCall', [call])\n        }\n      })\n    })\n\n    opt.event.udapp.register('transactionExecuted', (error, from, to, data, lookupOnly, txResult) => {\n      if (error) return\n      if (lookupOnly) return\n      // we go for that case if\n      // in VM mode\n      // in web3 mode && listen remix txs only\n      if (!this._isListening) return // we don't listen\n      if (this._loopId) return // we seems to already listen on a \"web3\" network\n      this.executionContext.web3().eth.getTransaction(txResult.transactionHash).then(async tx=>{\n        let execResult\n        if (this.executionContext.isVM()) {\n          execResult = await this.executionContext.web3().remix.getExecutionResultFromSimulator(txResult.transactionHash)\n        }\n\n        addExecutionCosts(txResult, tx, execResult)\n        tx.envMode = this.executionContext.getProvider()\n        tx.status = txResult.receipt.status\n        this._resolve([tx])\n      }).catch(error=>console.log(error))\n    })\n  }\n\n  /**\n    * define if txlistener should listen on the network or if only tx created from remix are managed\n    *\n    * @param {Bool} type - true if listen on the network\n    */\n  setListenOnNetwork (listenOnNetwork) {\n    this._listenOnNetwork = listenOnNetwork\n    if (this._loopId) {\n      clearInterval(this._loopId)\n    }\n    this._listenOnNetwork ? this.startListening() : this.stopListening()\n  }\n\n  /**\n    * reset recorded transactions\n    */\n  init () {\n    this.blocks = []\n  }\n\n  /**\n    * start listening for incoming transactions\n    *\n    * @param {String} type - type/name of the provider to add\n    * @param {Object} obj  - provider\n    */\n  startListening () {\n    this.init()\n    this._isListening = true\n    if (this._listenOnNetwork && !this.executionContext.isVM()) {\n      this._startListenOnNetwork()\n    }\n  }\n\n  /**\n    * stop listening for incoming transactions. do not reset the recorded pool.\n    *\n    * @param {String} type - type/name of the provider to add\n    * @param {Object} obj  - provider\n    */\n  stopListening () {\n    if (this._loopId) {\n      clearInterval(this._loopId)\n    }\n    this._loopId = null\n    this._isListening = false\n  }\n\n  async _startListenOnNetwork () {\n    let lastSeenBlock = this.executionContext.lastBlock?.number - BigInt(1)\n    let processingBlock = false\n\n    const processBlocks = async () => {\n      if (!this._isListening) return\n      if (processingBlock) return\n      processingBlock = true\n      const currentLoopId = this._loopId\n      if (this._loopId === null) {\n        processingBlock = false\n        return\n      }\n      if (!lastSeenBlock) {\n        lastSeenBlock = this.executionContext.lastBlock?.number // trying to resynchronize\n        console.log('listen on blocks, resynchronising')\n        processingBlock = false\n        return\n      }\n      const current = this.executionContext.lastBlock?.number\n      if (!current) {\n        console.log(new Error('no last block found'))\n        processingBlock = false\n        return\n      }\n      if (currentLoopId === this._loopId && lastSeenBlock < current) {\n        while (lastSeenBlock <= current) {\n          try {\n            if (!this._isListening) break\n            await this._manageBlock(lastSeenBlock)\n          } catch (e) {\n            console.log(e)\n          }\n          lastSeenBlock++\n        }\n        lastSeenBlock = current\n      }\n      processingBlock = false\n    }\n    this._loopId = setInterval(processBlocks, 20000)\n    processBlocks()\n  }\n\n  async _manageBlock (blockNumber) {\n    try {\n      const result = await this.executionContext.web3().eth.getBlock(blockNumber, true)\n      return await this._newBlock(Object.assign({ type: 'web3' }, result))\n    } catch (e) {}\n  }\n\n  /**\n    * try to resolve the contract name from the given @arg address\n    *\n    * @param {String} address - contract address to resolve\n    * @return {String} - contract name\n    */\n  resolvedContract (address) {\n    if (this._resolvedContracts[address]) return this._resolvedContracts[address].name\n    return null\n  }\n\n  /**\n    * try to resolve the transaction from the given @arg txHash\n    *\n    * @param {String} txHash - contract address to resolve\n    * @return {String} - contract name\n    */\n  resolvedTransaction (txHash) {\n    return this._resolvedTransactions[txHash]\n  }\n\n  async _newBlock (block) {\n    this.blocks.push(block)\n    await this._resolve(block.transactions)\n    this.event.trigger('newBlock', [block])\n  }\n\n  _resolveAsync (tx) {\n    return new Promise((resolve, reject) => {\n      this._api.resolveReceipt(tx, (error, receipt) => {\n        if (error) return reject(error)\n        this._resolveTx(tx, receipt, (error, resolvedData) => {\n          if (error) return reject(error)\n          if (resolvedData) {\n            this.event.trigger('txResolved', [tx, receipt, resolvedData])\n          }\n          this.event.trigger('newTransaction', [tx, receipt])\n          resolve({})\n        })\n      })\n    })\n  }\n\n  async _resolve (transactions) {\n    for (const tx of transactions) {\n      try {\n        if (!this._isListening) break\n        await this._resolveAsync(tx)\n      } catch (e) {}\n    }\n  }\n\n  _resolveTx (tx, receipt, cb) {\n    const contracts = this._api.contracts()\n    if (!contracts) return cb()\n    let fun\n    let contract\n    if (!tx.to || tx.to === '0x0') { // testrpc returns 0x0 in that case\n      // contract creation / resolve using the creation bytes code\n      // if web3: we have to call getTransactionReceipt to get the created address\n      // if VM: created address already included\n      const code = tx.input\n      contract = this._tryResolveContract(code, contracts, true)\n      if (contract) {\n        const address = receipt.contractAddress\n        this._resolvedContracts[address] = contract\n        fun = this._resolveFunction(contract, tx, true)\n        if (this._resolvedTransactions[tx.hash]) {\n          this._resolvedTransactions[tx.hash].contractAddress = address\n        }\n        return cb(null, { to: null, contractName: contract.name, function: fun, creationAddress: address })\n      }\n      return cb()\n    } else {\n      // first check known contract, resolve against the `runtimeBytecode` if not known\n      contract = this._resolvedContracts[tx.to]\n      if (!contract) {\n        this.executionContext.web3().eth.getCode(tx.to).then(code=>{\n          if (code) {\n            const contract = this._tryResolveContract(code, contracts, false)\n            if (contract) {\n              this._resolvedContracts[tx.to] = contract\n              const fun = this._resolveFunction(contract, tx, false)\n              return cb(null, { to: tx.to, contractName: contract.name, function: fun })\n            }\n          }\n          return cb()\n        }).catch(error=>cb(error))\n        return\n      }\n      if (contract) {\n        fun = this._resolveFunction(contract, tx, false)\n        return cb(null, { to: tx.to, contractName: contract.name, function: fun })\n      }\n      return cb()\n    }\n  }\n\n  _resolveFunction (contract, tx, isCtor) {\n    if (!contract) {\n      console.log('txListener: cannot resolve contract - contract is null')\n      return\n    }\n    const abi = contract.object.abi\n    const inputData = tx.input.replace('0x', '')\n    if (!isCtor) {\n      const methodIdentifiers = contract.object.evm.methodIdentifiers\n      for (const fn in methodIdentifiers) {\n        if (methodIdentifiers[fn] === inputData.substring(0, 8)) {\n          const fnabi = getFunction(abi, fn)\n          this._resolvedTransactions[tx.hash] = {\n            contractName: contract.name,\n            to: tx.to,\n            fn: fn,\n            params: this._decodeInputParams(inputData.substring(8), fnabi)\n          }\n          if (tx.returnValue) {\n            this._resolvedTransactions[tx.hash].decodedReturnValue = decodeResponse(tx.returnValue, fnabi)\n          }\n          return this._resolvedTransactions[tx.hash]\n        }\n      }\n      // receive function\n      if (!inputData && getReceiveInterface(abi)) {\n        this._resolvedTransactions[tx.hash] = {\n          contractName: contract.name,\n          to: tx.to,\n          fn: '(receive)',\n          params: null\n        }\n      } else {\n        // fallback function\n        this._resolvedTransactions[tx.hash] = {\n          contractName: contract.name,\n          to: tx.to,\n          fn: '(fallback)',\n          params: null\n        }\n      }\n    } else {\n      const bytecode = contract.object.evm.bytecode.object\n      let params = null\n      if (bytecode && bytecode.length) {\n        params = this._decodeInputParams(getinputParameters(inputData), getConstructorInterface(abi))\n      }\n      this._resolvedTransactions[tx.hash] = {\n        contractName: contract.name,\n        to: null,\n        fn: '(constructor)',\n        params: params\n      }\n    }\n    return this._resolvedTransactions[tx.hash]\n  }\n\n  _tryResolveContract (codeToResolve, compiledContracts, isCreation) {\n    let found = null\n    visitContracts(compiledContracts, (contract) => {\n      const bytes = isCreation ? contract.object.evm.bytecode.object : contract.object.evm.deployedBytecode.object\n      if (compareByteCode(codeToResolve, '0x' + bytes)) {\n        found = contract\n        return true\n      }\n    })\n    return found\n  }\n\n  _decodeInputParams (data, abi) {\n    data = toBytes(addHexPrefix(data))\n    if (!data.length) data = new Uint8Array(32 * abi.inputs.length) // ensuring the data is at least filled by 0 cause `AbiCoder` throws if there's not enough data\n\n    const inputTypes = []\n    for (let i = 0; i < abi.inputs.length; i++) {\n      const type = abi.inputs[i].type\n      inputTypes.push(type.indexOf('tuple') === 0 ? makeFullTypeDefinition(abi.inputs[i]) : type)\n    }\n    const abiCoder = new ethers.utils.AbiCoder()\n    const decoded = abiCoder.decode(inputTypes, data)\n    const ret = {}\n    for (const k in abi.inputs) {\n      ret[abi.inputs[k].type + ' ' + abi.inputs[k].name] = decoded[k]\n    }\n    return ret\n  }\n}\n","'use strict'\nimport { EventManager } from '../eventManager'\n\nexport type Transaction = {\n  from: string,\n  to: string,\n  value: string,\n  data: string,\n  gasLimit: number,\n  useCall: boolean,\n  timestamp?: number\n  type: '0x1' | '0x2'\n}\n\nexport class TxRunner {\n  event\n  pendingTxs\n  queusTxs\n  opt\n  internalRunner\n  constructor (internalRunner, opt) {\n    this.opt = opt || {}\n    this.internalRunner = internalRunner\n    this.event = new EventManager()\n\n    this.pendingTxs = {}\n    this.queusTxs = []\n  }\n\n  rawRun (args: Transaction, confirmationCb, gasEstimationForceSend, promptCb, cb) {\n    run(this, args, args.timestamp || Date.now(), confirmationCb, gasEstimationForceSend, promptCb, cb)\n  }\n\n  execute (args: Transaction, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n    let data = args.data\n    if (data.slice(0, 2) !== '0x') {\n      data = '0x' + data\n    }\n    this.internalRunner.execute(args, confirmationCb, gasEstimationForceSend, promptCb, callback)\n  }\n}\n\nfunction run (self, tx: Transaction, stamp, confirmationCb, gasEstimationForceSend = null, promptCb = null, callback = null) {\n  if (Object.keys(self.pendingTxs).length) {\n    return self.queusTxs.push({ tx, stamp, confirmationCb, gasEstimationForceSend, promptCb, callback })\n  }\n  self.pendingTxs[stamp] = tx\n  self.execute(tx, confirmationCb, gasEstimationForceSend, promptCb, function (error, result) {\n    delete self.pendingTxs[stamp]\n    if (callback && typeof callback === 'function') callback(error, result)\n    if (self.queusTxs.length) {\n      const next = self.queusTxs.pop()\n      run(self, next.tx, next.stamp, next.confirmationCb, next.gasEstimationForceSend, next.promptCb, next.callback)\n    }\n  })\n}\n","'use strict'\nimport { RunBlockResult, RunTxResult } from '@ethereumjs/vm'\nimport { ConsensusType } from '@ethereumjs/common'\nimport { LegacyTransaction, FeeMarketEIP1559Transaction } from '@ethereumjs/tx'\nimport { Block } from '@ethereumjs/block'\nimport { bytesToHex, Address, hexToBytes } from '@ethereumjs/util'\nimport { EVM } from '@ethereumjs/evm'\nimport type { Account } from '@ethereumjs/util'\nimport { EventManager } from '../eventManager'\nimport { LogsManager } from './logsManager'\nimport type { Transaction as InternalTransaction } from './txRunner'\n\nexport type VMexecutionResult = {\n  result: RunTxResult,\n  transactionHash: string\n  block: Block,\n  tx: LegacyTransaction\n}\n\nexport type VMExecutionCallBack = (error: string | Error, result?: VMexecutionResult) => void\n\nexport class TxRunnerVM {\n  event\n  blockNumber\n  pendingTxs\n  vmaccounts\n  queusTxs\n  blocks: Uint8Array[]\n  logsManager\n  commonContext\n  blockParentHash\n  nextNonceForCall: number\n  standaloneTx: boolean\n  getVMObject: () => any\n\n  constructor (vmaccounts, api, getVMObject, blocks: Uint8Array[] = []) {\n    this.event = new EventManager()\n    this.logsManager = new LogsManager()\n    // has a default for now for backwards compatibility\n    this.getVMObject = getVMObject\n    this.commonContext = this.getVMObject().common\n    this.pendingTxs = {}\n    this.vmaccounts = vmaccounts\n    this.queusTxs = []\n    /*\n      txHash is generated using the nonce,\n      in order to have unique transaction hash, we need to keep using different nonce (in case of a call)\n      so we increment this value after each call.\n      For this to function we also need to skip nonce validation, in the vm: `{ skipNonce: true }`\n    */\n    this.nextNonceForCall = 0\n\n    const vm = this.getVMObject().vm\n    if (Array.isArray(blocks) && (blocks || []).length > 0) {\n      const lastBlock = Block.fromRLPSerializedBlock(blocks[blocks.length - 1], { common: this.commonContext })\n\n      this.blockParentHash = lastBlock.hash()\n      this.blocks = blocks\n    } else {\n      this.blockParentHash = vm.blockchain.genesisBlock.hash()\n      this.blocks = [vm.blockchain.genesisBlock.serialize()]\n    }\n  }\n\n  execute (args: InternalTransaction, confirmationCb, gasEstimationForceSend, promptCb, callback: VMExecutionCallBack) {\n    let data = args.data\n    if (data.slice(0, 2) !== '0x') {\n      data = '0x' + data\n    }\n\n    try {\n      this.runInVm(args.from, args.to, data, args.value, args.gasLimit, args.useCall, callback)\n    } catch (e) {\n      callback(e, null)\n    }\n  }\n\n  async runInVm (from: string, to: string, data: string, value: string, gasLimit: number, useCall: boolean, callback: VMExecutionCallBack) {\n    let account\n    if (!from && useCall && Object.keys(this.vmaccounts).length) {\n      from = Object.keys(this.vmaccounts)[0]\n      account = this.vmaccounts[from]\n    } else account = this.vmaccounts[from]\n\n    if (!account) {\n      return callback('Invalid account selected')\n    }\n\n    try {\n      const res = await this.getVMObject().stateManager.getAccount(Address.fromString(from))\n      const EIP1559 = this.commonContext.hardfork() !== 'berlin' // berlin is the only pre eip1559 fork that we handle.\n      let tx\n      if (!EIP1559) {\n        tx = LegacyTransaction.fromTxData({\n          nonce: useCall ? this.nextNonceForCall : res.nonce,\n          gasPrice: '0x1',\n          gasLimit: gasLimit,\n          to: to,\n          value: value,\n          data: hexToBytes(data)\n        }, { common: this.commonContext }).sign(account.privateKey)\n      } else {\n        tx = FeeMarketEIP1559Transaction.fromTxData({\n          nonce: useCall ? this.nextNonceForCall : res.nonce,\n          maxPriorityFeePerGas: '0x01',\n          maxFeePerGas: '0x7',\n          gasLimit: gasLimit,\n          to: to,\n          value: value,\n          data: hexToBytes(data)\n        }).sign(account.privateKey)\n      }\n      if (useCall) this.nextNonceForCall++\n\n      const coinbases = ['0x0e9281e9c6a0808672eaba6bd1220e144c9bb07a', '0x8945a1288dc78a6d8952a92c77aee6730b414778', '0x94d76e24f818426ae84aa404140e8d5f60e10e7e']\n      const difficulties = [69762765929000, 70762765929000, 71762765929000]\n      const difficulty = this.commonContext.consensusType() === ConsensusType.ProofOfStake ? 0 : difficulties[this.blocks.length % difficulties.length]\n      const block = Block.fromBlockData({\n        header: {\n          timestamp: new Date().getTime() / 1000 | 0,\n          number: this.blocks.length,\n          coinbase: coinbases[this.blocks.length % coinbases.length],\n          difficulty,\n          gasLimit,\n          baseFeePerGas: EIP1559 ? '0x1' : undefined,\n          parentHash: this.blockParentHash\n        },\n        transactions: [tx]\n      }, { common: this.commonContext })\n\n      // standaloneTx represents a gas estimation call\n      if (this.standaloneTx || useCall) {\n        const root = await this.getVMObject().stateManager.getStateRoot()\n        this.runBlockInVm(tx, block, async (err, result) => {\n          await this.getVMObject().stateManager.setStateRoot(root)\n          callback(err, result)\n        })\n      } else {\n        this.blockParentHash = block.hash()\n        this.runBlockInVm(tx, block, async (err, result) => {\n          if (!err) {\n            if (!useCall) {\n              this.getVMObject().vm.blockchain.putBlock(block)\n              this.blocks.push(block.serialize())\n            }\n          }\n          callback(err, result)\n        })\n      }\n    } catch (e) {\n      callback(e)\n    }\n  }\n\n  runTxInVm (tx, block, callback) {\n    this.getVMObject().vm.runTx({ tx, skipNonce: true, skipBlockValidation: true, skipBalance: false }).then((result: RunTxResult) => {\n      callback(null, {\n        result,\n        transactionHash: bytesToHex(Buffer.from(tx.hash())),\n        block,\n        tx\n      })\n    }).catch(function (err) {\n      callback(err)\n    })\n  }\n\n  runBlockInVm (tx, block, callback) {\n    this.getVMObject().vm.runBlock({ block: block, generate: true, skipNonce: true, skipBlockValidation: true, skipBalance: false }).then((results: RunBlockResult) => {\n      const result: RunTxResult = results.results[0]\n      callback(null, {\n        result,\n        transactionHash: bytesToHex(Buffer.from(tx.hash())),\n        block,\n        tx\n      })\n    }).catch(function (err) {\n      callback(err)\n    })\n  }\n}\n","'use strict'\nimport { EventManager } from '../eventManager'\nimport type { Transaction as InternalTransaction } from './txRunner'\nimport Web3 from 'web3'\nimport { toBigInt, toHex } from 'web3-utils'\n\nexport class TxRunnerWeb3 {\n  event\n  _api\n  getWeb3: () => Web3\n  currentblockGasLimit: () => number\n\n  constructor (api, getWeb3, currentblockGasLimit) {\n    this.event = new EventManager()\n    this.getWeb3 = getWeb3\n    this.currentblockGasLimit = currentblockGasLimit\n    this._api = api\n  }\n\n  async _executeTx (tx, network, txFee, api, promptCb, callback) {\n    if (network && network.lastBlock && network.lastBlock.baseFeePerGas) {\n      // the sending stack (web3.js / metamask need to have the type defined)\n      // this is to avoid the following issue: https://github.com/MetaMask/metamask-extension/issues/11824\n      tx.type = '0x2'\n    } else {\n      // tx.type = '0x1'\n    }\n    if (txFee) {\n      if (txFee.baseFeePerGas) {\n        tx.maxPriorityFeePerGas = toHex(BigInt(this.getWeb3().utils.toWei(txFee.maxPriorityFee, 'gwei')))\n        tx.maxFeePerGas = toHex(BigInt(this.getWeb3().utils.toWei(txFee.maxFee, 'gwei')))\n        tx.type = '0x2'\n      } else {\n        tx.gasPrice = toHex(BigInt(this.getWeb3().utils.toWei(txFee.gasPrice, 'gwei')))\n        // tx.type = '0x1'\n      }\n    }\n\n    let currentDateTime = new Date();\n    const start = currentDateTime.getTime() / 1000\n    const cb = (err, resp) => {\n      if (err) {\n        return callback(err, resp)\n      }\n      this.event.trigger('transactionBroadcasted', [resp])\n      const listenOnResponse = () => {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n          const receipt = await tryTillReceiptAvailable(resp, this.getWeb3())\n          tx = await tryTillTxAvailable(resp, this.getWeb3())\n          currentDateTime = new Date();\n          const end = currentDateTime.getTime() / 1000\n          console.log('tx duration', end - start)\n          resolve({\n            receipt,\n            tx,\n            transactionHash: receipt ? receipt['transactionHash'] : null\n          })\n        })\n      }\n      listenOnResponse().then((txData) => { callback(null, txData) }).catch((error) => { callback(error) })\n    }\n\n    if (api.personalMode()) {\n      promptCb(\n        async (value) => {\n          try {\n            const res = await (this.getWeb3() as any).eth.personal.sendTransaction({ ...tx, value }, { checkRevertBeforeSending: false, ignoreGasPricing: true })\n            cb(null, res.transactionHash)\n          } catch (e) {\n            console.log(`Send transaction failed: ${e.message} . if you use an injected provider, please check it is properly unlocked. `)\n            // in case the receipt is available, we consider that only the execution failed but the transaction went through.\n            // So we don't consider this to be an error.\n            if (e.receipt) cb(null, e.receipt.transactionHash)\n            else cb(e, null)\n          }\n        },\n        () => {\n          return callback('Canceled by user.')\n        }\n      )\n    } else {\n      try {\n        const res = await this.getWeb3().eth.sendTransaction(tx, null, { checkRevertBeforeSending: false, ignoreGasPricing: true })\n        cb(null, res.transactionHash)\n      } catch (e) {\n        console.log(`Send transaction failed: ${e.message} . if you use an injected provider, please check it is properly unlocked. `)\n        // in case the receipt is available, we consider that only the execution failed but the transaction went through.\n        // So we don't consider this to be an error.\n        if (e.receipt) cb(null, e.receipt.transactionHash)\n        else cb(e, null)\n      }\n    }\n  }\n\n  execute (args: InternalTransaction, confirmationCb, gasEstimationForceSend, promptCb, callback) {\n    let data = args.data\n    if (data.slice(0, 2) !== '0x') {\n      data = '0x' + data\n    }\n\n    return this.runInNode(args.from, args.to, data, args.value, args.gasLimit, args.useCall, args.timestamp, confirmationCb, gasEstimationForceSend, promptCb, callback)\n  }\n\n  runInNode (from, to, data, value, gasLimit, useCall, timestamp, confirmCb, gasEstimationForceSend, promptCb, callback) {\n    const tx = { from: from, to: to, data: data, value: value }\n    if (!from) return callback('the value of \"from\" is not defined. Please make sure an account is selected.')\n    if (useCall) {\n      if (this._api && this._api.isVM()) {\n        (this.getWeb3() as any).remix.registerCallId(timestamp)\n      }\n      this.getWeb3().eth.call(tx)\n        .then((result: any) => callback(null, {\n          result: result\n        }))\n        .catch(error => callback(error))\n      return\n    }\n    this._api.detectNetwork((errNetWork, network) => {\n      if (errNetWork) {\n        console.log(errNetWork)\n        return\n      }\n      const txCopy = { ...tx, type: undefined, maxFeePerGas: undefined, gasPrice: undefined }\n      if (network && network.lastBlock) {\n        if (network.lastBlock.baseFeePerGas) {\n          // the sending stack (web3.js / metamask need to have the type defined)\n          // this is to avoid the following issue: https://github.com/MetaMask/metamask-extension/issues/11824\n          txCopy.type = '0x2'\n          txCopy.maxFeePerGas = Math.ceil(Number((toBigInt(network.lastBlock.baseFeePerGas) + toBigInt(network.lastBlock.baseFeePerGas) / BigInt(3)).toString()))\n        } else {\n          txCopy.type = '0x1'\n          txCopy.gasPrice = undefined\n        }\n      }\n      this.getWeb3().eth.estimateGas(txCopy)\n        .then(gasEstimation => {\n          gasEstimationForceSend(null, () => {\n            /*\n            * gasLimit is a value that can be set in the UI to hardcap value that can be put in a tx.\n            * e.g if the gasestimate\n            */\n            if (gasLimit !== '0x0' && gasEstimation > gasLimit) {\n              return callback(`estimated gas for this transaction (${gasEstimation}) is higher than gasLimit set in the configuration  (${gasLimit}). Please raise the gas limit.`)\n            }\n\n            if (gasLimit === '0x0') {\n              tx['gas'] = gasEstimation\n            } else {\n              tx['gas'] = gasLimit\n            }\n\n            if (this._api.config.getUnpersistedProperty('doNotShowTransactionConfirmationAgain')) {\n              return this._executeTx(tx, network, null, this._api, promptCb, callback)\n            }\n\n            confirmCb(network, tx, tx['gas'], (txFee) => {\n              return this._executeTx(tx, network, txFee, this._api, promptCb, callback)\n            }, (error) => {\n              callback(error)\n            })\n          }, callback)\n        })\n        .catch(err => {\n          if (err && err.message.indexOf('Invalid JSON RPC response') !== -1) {\n            // // @todo(#378) this should be removed when https://github.com/WalletConnect/walletconnect-monorepo/issues/334 is fixed\n            callback(new Error('Gas estimation failed because of an unknown internal error. This may indicated that the transaction will fail.'))\n          }\n          err = network.name === 'VM' ? null : err // just send the tx if \"VM\"\n          gasEstimationForceSend(err, () => {\n            const defaultGasLimit = 3000000\n            tx['gas'] = gasLimit === '0x0' ? '0x' + defaultGasLimit.toString(16) : gasLimit\n\n            if (this._api.config.getUnpersistedProperty('doNotShowTransactionConfirmationAgain')) {\n              return this._executeTx(tx, network, null, this._api, promptCb, callback)\n            }\n\n            confirmCb(network, tx, tx['gas'], (txFee) => {\n              return this._executeTx(tx, network, txFee, this._api, promptCb, callback)\n            }, (error) => {\n              callback(error)\n            })\n          }, callback)\n        })\n    })\n  }\n}\n\nasync function tryTillReceiptAvailable (txhash: string, web3: Web3) {\n  try {\n    const receipt = await web3.eth.getTransactionReceipt(txhash)\n    if (receipt) {\n      if (!receipt.to && !receipt.contractAddress) {\n        // this is a contract creation and the receipt doesn't contain a contract address. we have to keep polling...\n        console.log('this is a contract creation and the receipt does not contain a contract address. we have to keep polling...')\n      } else\n        return receipt\n    }\n  } catch (e) {}\n  await pause()\n  return await tryTillReceiptAvailable(txhash, web3)\n}\n\nasync function tryTillTxAvailable (txhash: string, web3: Web3) {\n  try {\n    const tx = await web3.eth.getTransaction(txhash)\n    if (tx && tx.blockHash) return tx\n  } catch (e) {}\n  return await tryTillTxAvailable(txhash, web3)\n}\n\nasync function pause () { return new Promise((resolve, reject) => { setTimeout(resolve, 500) }) }\n","'use strict'\nimport { BN } from 'bn.js'\nimport { bytesToHex } from '@ethereumjs/util'\nimport { isBigInt } from 'web3-validator'\n\nexport function toInt (h) {\n  if (h.indexOf && h.indexOf('0x') === 0) {\n    return (new BN(h.replace('0x', ''), 16)).toString(10)\n  } else if ((h.constructor && h.constructor.name === 'BigNumber') || BN.isBN(h) || isBigInt(h)) {\n    return h.toString(10)\n  }\n  return h\n}\n\nexport const stringify = convertToString\n\nfunction convertToString (v) {\n  try {\n    if (v instanceof Array) {\n      const ret = []\n      for (const k in v) {\n        ret.push(convertToString(v[k]))\n      }\n      return ret\n    } else if (BN.isBN(v) || (v.constructor && v.constructor.name === 'BigNumber') || isBigInt(v)) {\n      return v.toString(10)\n    } else if (v._isBigNumber) {\n      return toInt(v._hex)\n    } else if (v._isBuffer) {\n      return bytesToHex(v)\n    } else if (typeof v === 'object') {\n      const retObject = {}\n      for (const i in v) {\n        retObject[i] = convertToString(v[i])\n      }\n      return retObject\n    } else {\n      return v\n    }\n  } catch (e) {\n    console.log(e)\n    return v\n  }\n}\n","import { keccak224, keccak384, keccak256 as k256, keccak512 } from 'ethereum-cryptography/keccak'\nconst createHash = require('create-hash')\nimport { encode, Input } from 'rlp'\nimport { toBytes, setLengthLeft, isHexString } from '@ethereumjs/util'\n\n/**\n * Creates Keccak hash of a Uint8Array input\n * @param a The input data (Uint8Array)\n * @param bits (number = 256) The Keccak width\n */\nexport const keccak = function(a: Uint8Array, bits: number = 256): Uint8Array {\n  switch (bits) {\n  case 224: {\n    return toBytes(keccak224(Buffer.from(a)))\n  }\n  case 256: {\n    return toBytes(k256(Buffer.from(a)))\n  }\n  case 384: {\n    return toBytes(keccak384(Buffer.from(a)))\n  }\n  case 512: {\n    return toBytes(keccak512(Buffer.from(a)))\n  }\n  default: {\n    throw new Error(`Invalid algorithm: keccak${bits}`)\n  }\n  }\n}\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256).\n * @param a The input data (Buffer)\n */\nexport const keccak256 = function(a: Buffer): Uint8Array {\n  return keccak(a)\n}\n\n/**\n * Creates Keccak hash of a utf-8 string input\n * @param a The input data (String)\n * @param bits (number = 256) The Keccak width\n */\nexport const keccakFromString = function(a: string, bits: number = 256) {\n  assertIsString(a)\n  const buf = Buffer.from(a, 'utf8')\n  return keccak(buf, bits)\n}\n\n/**\n * Creates Keccak hash of an 0x-prefixed string input\n * @param a The input data (String)\n * @param bits (number = 256) The Keccak width\n */\nexport const keccakFromHexString = function(a: string, bits: number = 256) {\n  assertIsHexString(a)\n  return keccak(Buffer.from(toBytes(a)), bits)\n}\n\n/**\n * Creates Keccak hash of a number array input\n * @param a The input data (number[])\n * @param bits (number = 256) The Keccak width\n */\nexport const keccakFromArray = function(a: number[], bits: number = 256) {\n  assertIsArray(a)\n  return keccak(Buffer.from(toBytes(a)), bits)\n}\n\n/**\n * Creates SHA256 hash of an input.\n * @param  a The input data (Buffer|Array|String)\n */\nconst _sha256 = function(a: any): Buffer {\n  a = toBytes(a)\n  return createHash('sha256')\n    .update(a)\n    .digest()\n}\n\n/**\n * Creates SHA256 hash of a Buffer input.\n * @param a The input data (Buffer)\n */\nexport const sha256 = function(a: Buffer): Buffer {\n  assertIsBuffer(a)\n  return _sha256(a)\n}\n\n/**\n * Creates SHA256 hash of a string input.\n * @param a The input data (string)\n */\nexport const sha256FromString = function(a: string): Buffer {\n  assertIsString(a)\n  return _sha256(a)\n}\n\n/**\n * Creates SHA256 hash of a number[] input.\n * @param a The input data (number[])\n */\nexport const sha256FromArray = function(a: number[]): Buffer {\n  assertIsArray(a)\n  return _sha256(a)\n}\n\n/**\n * Creates RIPEMD160 hash of the input.\n * @param a The input data (Buffer|Array|String|Number)\n * @param padded Whether it should be padded to 256 bits or not\n */\nconst _ripemd160 = function(a: any, padded: boolean): Buffer {\n  a = toBytes(a)\n  const hash = createHash('rmd160')\n    .update(a)\n    .digest()\n  if (padded === true) {\n    return Buffer.from(setLengthLeft(hash, 32))\n  } else {\n    return hash\n  }\n}\n\n/**\n * Creates RIPEMD160 hash of a Buffer input.\n * @param a The input data (Buffer)\n * @param padded Whether it should be padded to 256 bits or not\n */\nexport const ripemd160 = function(a: Buffer, padded: boolean): Buffer {\n  assertIsBuffer(a)\n  return _ripemd160(a, padded)\n}\n\n/**\n * Creates RIPEMD160 hash of a string input.\n * @param a The input data (String)\n * @param padded Whether it should be padded to 256 bits or not\n */\nexport const ripemd160FromString = function(a: string, padded: boolean): Buffer {\n  assertIsString(a)\n  return _ripemd160(a, padded)\n}\n\n/**\n * Creates RIPEMD160 hash of a number[] input.\n * @param a The input data (number[])\n * @param padded Whether it should be padded to 256 bits or not\n */\nexport const ripemd160FromArray = function(a: number[], padded: boolean): Buffer {\n  assertIsArray(a)\n  return _ripemd160(a, padded)\n}\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input.\n * @param a The input data\n */\nexport const rlphash = function(a: Input): Buffer {\n  return Buffer.from(keccak(Buffer.from(encode(a))))\n}\n\n/**\n * Throws if a string is not hex prefixed\n * @param {string} input string to check hex prefix of\n */\nexport const assertIsHexString = function(input: string): void {\n  if (!isHexString(input)) {\n    const msg = `This method only supports 0x-prefixed hex strings but input was: ${input}`\n    throw new Error(msg)\n  }\n}\n\n/**\n * Throws if input is not a buffer\n * @param {Buffer} input value to check\n */\nexport const assertIsBuffer = function(input: Buffer): void {\n  if (!Buffer.isBuffer(input)) {\n    const msg = `This method only supports Buffer but input was: ${input}`\n    throw new Error(msg)\n  }\n}\n\n/**\n * Throws if input is not an array\n * @param {number[]} input value to check\n */\nexport const assertIsArray = function(input: number[]): void {\n  if (!Array.isArray(input)) {\n    const msg = `This method only supports number arrays but input was: ${input}`\n    throw new Error(msg)\n  }\n}\n\n/**\n * Throws if input is not a string\n * @param {string} input value to check\n */\nexport const assertIsString = function(input: string): void {\n  if (typeof input !== 'string') {\n    const msg = `This method only supports strings but input was: ${input}`\n    throw new Error(msg)\n  }\n}","export function compilerInput (contracts) {\n  return JSON.stringify({\n    language: 'Solidity',\n    sources: {\n      'test.sol': {\n        content: contracts\n      }\n    },\n    settings: {\n      optimizer: {\n        enabled: false,\n        runs: 200\n      },\n      outputSelection: {\n        '*': {\n          '': ['ast'],\n          '*': ['abi', 'metadata', 'evm.legacyAssembly', 'evm.bytecode', 'evm.deployedBytecode', 'evm.methodIdentifiers', 'evm.gasEstimates']\n        }\n      }\n    }\n  })\n}\n","// Fetched from https://github.com/nomiclabs/hardhat/blob/ee4969a0a8f746f4775d4018326056d161066869/packages/hardhat-core/src/internal/hardhat-network/stack-traces/logger.ts#L47\n\nexport const ConsoleLogs = {\n  // Legacy method signatures before this PR: https://github.com/NomicFoundation/hardhat/pull/2964\n  1368866505: '()',\n  1309416733: '(int)',\n  4122065833: '(uint)',\n  1093685164: '(string)',\n  843419373: '(bool)',\n  741264322: '(address)',\n  199720790: '(bytes)',\n  1847107880: '(bytes1)',\n  3921027734: '(bytes2)',\n  763578662: '(bytes3)',\n  3764340945: '(bytes4)',\n  2793701517: '(bytes5)',\n  2927928721: '(bytes6)',\n  1322614312: '(bytes7)',\n  1334060334: '(bytes8)',\n  2428341456: '(bytes9)',\n  20780939: '(bytes10)',\n  67127854: '(bytes11)',\n  2258660029: '(bytes12)',\n  2488442420: '(bytes13)',\n  2456219775: '(bytes14)',\n  3667227872: '(bytes15)',\n  1717330180: '(bytes16)',\n  866084666: '(bytes17)',\n  3302112666: '(bytes18)',\n  1584093747: '(bytes19)',\n  1367925737: '(bytes20)',\n  3923391840: '(bytes21)',\n  3589990556: '(bytes22)',\n  2879508237: '(bytes23)',\n  4055063348: '(bytes24)',\n  193248344: '(bytes25)',\n  4172368369: '(bytes26)',\n  976705501: '(bytes27)',\n  3358255854: '(bytes28)',\n  1265222613: '(bytes29)',\n  3994207469: '(bytes30)',\n  3263516050: '(bytes31)',\n  666357637: '(bytes32)',\n  1812949376: '(uint,uint)',\n  262402885: '(uint,string)',\n  510514412: '(uint,bool)',\n  1491830284: '(uint,address)',\n  2534451664: '(string,uint)',\n  1264337527: '(string,string)',\n  3283441205: '(string,bool)',\n  832238387: '(string,address)',\n  910912146: '(bool,uint)',\n  2414527781: '(bool,string)',\n  705760899: '(bool,bool)',\n  2235320393: '(bool,address)',\n  574869411: '(address,uint)',\n  1973388987: '(address,string)',\n  1974863315: '(address,bool)',\n  3673216170: '(address,address)',\n  3884059252: '(uint,uint,uint)',\n  2104037094: '(uint,uint,string)',\n  1733758967: '(uint,uint,bool)',\n  3191032091: '(uint,uint,address)',\n  1533929535: '(uint,string,uint)',\n  1062716053: '(uint,string,string)',\n  1185403086: '(uint,string,bool)',\n  529592906: '(uint,string,address)',\n  1515034914: '(uint,bool,uint)',\n  2332955902: '(uint,bool,string)',\n  3587091680: '(uint,bool,bool)',\n  1112473535: '(uint,bool,address)',\n  2286109610: '(uint,address,uint)',\n  3464692859: '(uint,address,string)',\n  2060456590: '(uint,address,bool)',\n  2104993307: '(uint,address,address)',\n  2526862595: '(string,uint,uint)',\n  2750793529: '(string,uint,string)',\n  4043501061: '(string,uint,bool)',\n  3817119609: '(string,uint,address)',\n  4083337817: '(string,string,uint)',\n  753761519: '(string,string,string)',\n  2967534005: '(string,string,bool)',\n  2515337621: '(string,string,address)',\n  689682896: '(string,bool,uint)',\n  3801674877: '(string,bool,string)',\n  2232122070: '(string,bool,bool)',\n  2469116728: '(string,bool,address)',\n  130552343: '(string,address,uint)',\n  3773410639: '(string,address,string)',\n  3374145236: '(string,address,bool)',\n  4243355104: '(string,address,address)',\n  995886048: '(bool,uint,uint)',\n  3359211184: '(bool,uint,string)',\n  464374251: '(bool,uint,bool)',\n  3302110471: '(bool,uint,address)',\n  3224906412: '(bool,string,uint)',\n  2960557183: '(bool,string,string)',\n  3686056519: '(bool,string,bool)',\n  2509355347: '(bool,string,address)',\n  2954061243: '(bool,bool,uint)',\n  626391622: '(bool,bool,string)',\n  1349555864: '(bool,bool,bool)',\n  276362893: '(bool,bool,address)',\n  3950005167: '(bool,address,uint)',\n  3734671984: '(bool,address,string)',\n  415876934: '(bool,address,bool)',\n  3530962535: '(bool,address,address)',\n  2273710942: '(address,uint,uint)',\n  3136907337: '(address,uint,string)',\n  3846889796: '(address,uint,bool)',\n  2548867988: '(address,uint,address)',\n  484110986: '(address,string,uint)',\n  4218888805: '(address,string,string)',\n  3473018801: '(address,string,bool)',\n  4035396840: '(address,string,address)',\n  742821141: '(address,bool,uint)',\n  555898316: '(address,bool,string)',\n  3951234194: '(address,bool,bool)',\n  4044790253: '(address,bool,address)',\n  1815506290: '(address,address,uint)',\n  7426238: '(address,address,string)',\n  4070990470: '(address,address,bool)',\n  25986242: '(address,address,address)',\n  1554033982: '(uint,uint,uint,uint)',\n  2024634892: '(uint,uint,uint,string)',\n  1683143115: '(uint,uint,uint,bool)',\n  3766828905: '(uint,uint,uint,address)',\n  949229117: '(uint,uint,string,uint)',\n  2080582194: '(uint,uint,string,string)',\n  2989403910: '(uint,uint,string,bool)',\n  1127384482: '(uint,uint,string,address)',\n  1818524812: '(uint,uint,bool,uint)',\n  4024028142: '(uint,uint,bool,string)',\n  2495495089: '(uint,uint,bool,bool)',\n  3776410703: '(uint,uint,bool,address)',\n  1628154048: '(uint,uint,address,uint)',\n  3600994782: '(uint,uint,address,string)',\n  2833785006: '(uint,uint,address,bool)',\n  3398671136: '(uint,uint,address,address)',\n  3221501959: '(uint,string,uint,uint)',\n  2730232985: '(uint,string,uint,string)',\n  2270850606: '(uint,string,uint,bool)',\n  2877020669: '(uint,string,uint,address)',\n  1995203422: '(uint,string,string,uint)',\n  1474103825: '(uint,string,string,string)',\n  310782872: '(uint,string,string,bool)',\n  3432549024: '(uint,string,string,address)',\n  2763295359: '(uint,string,bool,uint)',\n  2370346144: '(uint,string,bool,string)',\n  1371286465: '(uint,string,bool,bool)',\n  2037328032: '(uint,string,bool,address)',\n  2565338099: '(uint,string,address,uint)',\n  4170733439: '(uint,string,address,string)',\n  4181720887: '(uint,string,address,bool)',\n  2141537675: '(uint,string,address,address)',\n  1451396516: '(uint,bool,uint,uint)',\n  3906845782: '(uint,bool,uint,string)',\n  3534472445: '(uint,bool,uint,bool)',\n  1329595790: '(uint,bool,uint,address)',\n  2438978344: '(uint,bool,string,uint)',\n  2754870525: '(uint,bool,string,string)',\n  879671495: '(uint,bool,string,bool)',\n  1231956916: '(uint,bool,string,address)',\n  3173363033: '(uint,bool,bool,uint)',\n  831186331: '(uint,bool,bool,string)',\n  1315722005: '(uint,bool,bool,bool)',\n  1392910941: '(uint,bool,bool,address)',\n  1102442299: '(uint,bool,address,uint)',\n  2721084958: '(uint,bool,address,string)',\n  2449150530: '(uint,bool,address,bool)',\n  2263728396: '(uint,bool,address,address)',\n  3399106228: '(uint,address,uint,uint)',\n  1054063912: '(uint,address,uint,string)',\n  435581801: '(uint,address,uint,bool)',\n  4256361684: '(uint,address,uint,address)',\n  2697204968: '(uint,address,string,uint)',\n  2373420580: '(uint,address,string,string)',\n  581204390: '(uint,address,string,bool)',\n  3420819197: '(uint,address,string,address)',\n  2064181483: '(uint,address,bool,uint)',\n  1676730946: '(uint,address,bool,string)',\n  2116501773: '(uint,address,bool,bool)',\n  3056677012: '(uint,address,bool,address)',\n  2587672470: '(uint,address,address,uint)',\n  2034490470: '(uint,address,address,string)',\n  22350596: '(uint,address,address,bool)',\n  1430734329: '(uint,address,address,address)',\n  149837414: '(string,uint,uint,uint)',\n  2773406909: '(string,uint,uint,string)',\n  4147936829: '(string,uint,uint,bool)',\n  3201771711: '(string,uint,uint,address)',\n  2697245221: '(string,uint,string,uint)',\n  1821956834: '(string,uint,string,string)',\n  3919545039: '(string,uint,string,bool)',\n  3144824297: '(string,uint,string,address)',\n  1427009269: '(string,uint,bool,uint)',\n  1993105508: '(string,uint,bool,string)',\n  3816813520: '(string,uint,bool,bool)',\n  3847527825: '(string,uint,bool,address)',\n  1481210622: '(string,uint,address,uint)',\n  844415720: '(string,uint,address,string)',\n  285649143: '(string,uint,address,bool)',\n  3939013249: '(string,uint,address,address)',\n  3587119056: '(string,string,uint,uint)',\n  2366909661: '(string,string,uint,string)',\n  3864418506: '(string,string,uint,bool)',\n  1565476480: '(string,string,uint,address)',\n  2681211381: '(string,string,string,uint)',\n  3731419658: '(string,string,string,string)',\n  739726573: '(string,string,string,bool)',\n  1834430276: '(string,string,string,address)',\n  2256636538: '(string,string,bool,uint)',\n  1585754346: '(string,string,bool,string)',\n  1081628777: '(string,string,bool,bool)',\n  3279013851: '(string,string,bool,address)',\n  1250010474: '(string,string,address,uint)',\n  3944480640: '(string,string,address,string)',\n  1556958775: '(string,string,address,bool)',\n  1134328815: '(string,string,address,address)',\n  1572859960: '(string,bool,uint,uint)',\n  1119461927: '(string,bool,uint,string)',\n  1019590099: '(string,bool,uint,bool)',\n  1909687565: '(string,bool,uint,address)',\n  885731469: '(string,bool,string,uint)',\n  2821114603: '(string,bool,string,string)',\n  1066037277: '(string,bool,string,bool)',\n  3764542249: '(string,bool,string,address)',\n  2155164136: '(string,bool,bool,uint)',\n  2636305885: '(string,bool,bool,string)',\n  2304440517: '(string,bool,bool,bool)',\n  1905304873: '(string,bool,bool,address)',\n  685723286: '(string,bool,address,uint)',\n  764294052: '(string,bool,address,string)',\n  2508990662: '(string,bool,address,bool)',\n  870964509: '(string,bool,address,address)',\n  3668153533: '(string,address,uint,uint)',\n  1280700980: '(string,address,uint,string)',\n  1522647356: '(string,address,uint,bool)',\n  2741431424: '(string,address,uint,address)',\n  2405583849: '(string,address,string,uint)',\n  609847026: '(string,address,string,string)',\n  1595265676: '(string,address,string,bool)',\n  2864486961: '(string,address,string,address)',\n  3318856587: '(string,address,bool,uint)',\n  72663161: '(string,address,bool,string)',\n  2038975531: '(string,address,bool,bool)',\n  573965245: '(string,address,bool,address)',\n  1857524797: '(string,address,address,uint)',\n  2148146279: '(string,address,address,string)',\n  3047013728: '(string,address,address,bool)',\n  3985582326: '(string,address,address,address)',\n  853517604: '(bool,uint,uint,uint)',\n  3657852616: '(bool,uint,uint,string)',\n  2753397214: '(bool,uint,uint,bool)',\n  4049711649: '(bool,uint,uint,address)',\n  1098907931: '(bool,uint,string,uint)',\n  3542771016: '(bool,uint,string,string)',\n  2446522387: '(bool,uint,string,bool)',\n  2781285673: '(bool,uint,string,address)',\n  3554563475: '(bool,uint,bool,uint)',\n  3067439572: '(bool,uint,bool,string)',\n  2650928961: '(bool,uint,bool,bool)',\n  1114097656: '(bool,uint,bool,address)',\n  3399820138: '(bool,uint,address,uint)',\n  403247937: '(bool,uint,address,string)',\n  1705899016: '(bool,uint,address,bool)',\n  2318373034: '(bool,uint,address,address)',\n  2387273838: '(bool,string,uint,uint)',\n  2007084013: '(bool,string,uint,string)',\n  549177775: '(bool,string,uint,bool)',\n  1529002296: '(bool,string,uint,address)',\n  1574643090: '(bool,string,string,uint)',\n  392356650: '(bool,string,string,string)',\n  508266469: '(bool,string,string,bool)',\n  2547225816: '(bool,string,string,address)',\n  2372902053: '(bool,string,bool,uint)',\n  1211958294: '(bool,string,bool,string)',\n  3697185627: '(bool,string,bool,bool)',\n  1401816747: '(bool,string,bool,address)',\n  453743963: '(bool,string,address,uint)',\n  316065672: '(bool,string,address,string)',\n  1842623690: '(bool,string,address,bool)',\n  724244700: '(bool,string,address,address)',\n  1181212302: '(bool,bool,uint,uint)',\n  1348569399: '(bool,bool,uint,string)',\n  2874982852: '(bool,bool,uint,bool)',\n  201299213: '(bool,bool,uint,address)',\n  395003525: '(bool,bool,string,uint)',\n  1830717265: '(bool,bool,string,string)',\n  3092715066: '(bool,bool,string,bool)',\n  4188875657: '(bool,bool,string,address)',\n  3259532109: '(bool,bool,bool,uint)',\n  719587540: '(bool,bool,bool,string)',\n  992632032: '(bool,bool,bool,bool)',\n  2352126746: '(bool,bool,bool,address)',\n  1620281063: '(bool,bool,address,uint)',\n  2695133539: '(bool,bool,address,string)',\n  3231908568: '(bool,bool,address,bool)',\n  4102557348: '(bool,bool,address,address)',\n  2617143996: '(bool,address,uint,uint)',\n  2691192883: '(bool,address,uint,string)',\n  4002252402: '(bool,address,uint,bool)',\n  1760647349: '(bool,address,uint,address)',\n  194640930: '(bool,address,string,uint)',\n  2805734838: '(bool,address,string,string)',\n  3804222987: '(bool,address,string,bool)',\n  1870422078: '(bool,address,string,address)',\n  1287000017: '(bool,address,bool,uint)',\n  1248250676: '(bool,address,bool,string)',\n  1788626827: '(bool,address,bool,bool)',\n  474063670: '(bool,address,bool,address)',\n  1384430956: '(bool,address,address,uint)',\n  3625099623: '(bool,address,address,string)',\n  1180699616: '(bool,address,address,bool)',\n  487903233: '(bool,address,address,address)',\n  1024368100: '(address,uint,uint,uint)',\n  2301889963: '(address,uint,uint,string)',\n  3964381346: '(address,uint,uint,bool)',\n  519451700: '(address,uint,uint,address)',\n  4111650715: '(address,uint,string,uint)',\n  2119616147: '(address,uint,string,string)',\n  2751614737: '(address,uint,string,bool)',\n  3698927108: '(address,uint,string,address)',\n  1770996626: '(address,uint,bool,uint)',\n  2391690869: '(address,uint,bool,string)',\n  4272018778: '(address,uint,bool,bool)',\n  602229106: '(address,uint,bool,address)',\n  2782496616: '(address,uint,address,uint)',\n  1567749022: '(address,uint,address,string)',\n  4051804649: '(address,uint,address,bool)',\n  3961816175: '(address,uint,address,address)',\n  2764647008: '(address,string,uint,uint)',\n  1561552329: '(address,string,uint,string)',\n  2116357467: '(address,string,uint,bool)',\n  3755464715: '(address,string,uint,address)',\n  2706362425: '(address,string,string,uint)',\n  1560462603: '(address,string,string,string)',\n  900007711: '(address,string,string,bool)',\n  2689478535: '(address,string,string,address)',\n  3877655068: '(address,string,bool,uint)',\n  3154862590: '(address,string,bool,string)',\n  1595759775: '(address,string,bool,bool)',\n  542667202: '(address,string,bool,address)',\n  2350461865: '(address,string,address,uint)',\n  4158874181: '(address,string,address,string)',\n  233909110: '(address,string,address,bool)',\n  221706784: '(address,string,address,address)',\n  3255869470: '(address,bool,uint,uint)',\n  2606272204: '(address,bool,uint,string)',\n  2244855215: '(address,bool,uint,bool)',\n  227337758: '(address,bool,uint,address)',\n  2652011374: '(address,bool,string,uint)',\n  1197235251: '(address,bool,string,string)',\n  1353532957: '(address,bool,string,bool)',\n  436029782: '(address,bool,string,address)',\n  3484780374: '(address,bool,bool,uint)',\n  3754205928: '(address,bool,bool,string)',\n  3401856121: '(address,bool,bool,bool)',\n  3476636805: '(address,bool,bool,address)',\n  3698398930: '(address,bool,address,uint)',\n  769095910: '(address,bool,address,string)',\n  2801077007: '(address,bool,address,bool)',\n  1711502813: '(address,bool,address,address)',\n  1425929188: '(address,address,uint,uint)',\n  2647731885: '(address,address,uint,string)',\n  3270936812: '(address,address,uint,bool)',\n  3603321462: '(address,address,uint,address)',\n  69767936: '(address,address,string,uint)',\n  566079269: '(address,address,string,string)',\n  1863997774: '(address,address,string,bool)',\n  2406706454: '(address,address,string,address)',\n  2513854225: '(address,address,bool,uint)',\n  2858762440: '(address,address,bool,string)',\n  752096074: '(address,address,bool,bool)',\n  2669396846: '(address,address,bool,address)',\n  3982404743: '(address,address,address,uint)',\n  4161329696: '(address,address,address,string)',\n  238520724: '(address,address,address,bool)',\n  1717301556: '(address,address,address,address)',\n  4133908826: '(uint,uint)',\n  3054400204: '(string,uint)',\n\n  // Latest method signatures after updating uint to uint256 and int to int256\n\n  760966329: '(int256)',\n  4163653873: '(uint256)',\n  1681903839: '(uint256, string)',\n  480083635: '(uint256, bool)',\n  1764191366: '(uint256, address)',\n  965833939: '(bool, uint256)',\n  2198464680: '(address, uint256)',\n  3522001468: '(uint256, uint256, uint256)',\n  1909476082: '(uint256, uint256, string)',\n  1197922930: '(uint256, uint256, bool)',\n  1553380145: '(uint256, uint256, address)',\n  933920076: '(uint256, string, uint256)',\n  2970968351: '(uint256, string, string)',\n  1290643290: '(uint256, string, bool)',\n  2063255897: '(uint256, string, address)',\n  537493524: '(uint256, bool, uint256)',\n  2239189025: '(uint256, bool, string)',\n  544310864: '(uint256, bool, bool)',\n  889741179: '(uint256, bool, address)',\n  1520131797: '(uint256, address, uint256)',\n  1674265081: '(uint256, address, string)',\n  2607726658: '(uint256, address, bool)',\n  3170737120: '(uint256, address, address)',\n  3393701099: '(string, uint256, uint256)',\n  1500569737: '(string, uint256, string)',\n  3396809649: '(string, uint256, bool)',\n  478069832: '(string, uint256, address)',\n  1478619041: '(string, string, uint256)',\n  3378075862: '(string, bool, uint256)',\n  220641573: '(string, address, uint256)',\n  923808615: '(bool, uint256, uint256)',\n  3288086896: '(bool, uint256, string)',\n  3906927529: '(bool, uint256, bool)',\n  143587794: '(bool, uint256, address)',\n  278130193: '(bool, string, uint256)',\n  317855234: '(bool, bool, uint256)',\n  1601936123: '(bool, address, uint256)',\n  3063663350: '(address, uint256, uint256)',\n  2717051050: '(address, uint256, string)',\n  1736575400: '(address, uint256, bool)',\n  2076235848: '(address, uint256, address)',\n  1742565361: '(address, string, uint256)',\n  2622462459: '(address, bool, uint256)',\n  402547077: '(address, address, uint256)',\n  423606272: '(uint256, uint256, uint256, uint256)',\n  1506790371: '(uint256, uint256, uint256, string)',\n  4202792367: '(uint256, uint256, uint256, address)',\n  1570936811: '(uint256, uint256, string, uint256)',\n  668512210: '(uint256, uint256, string, string)',\n  2062986021: '(uint256, uint256, string, bool)',\n  1121066423: '(uint256, uint256, string, address)',\n  3950997458: '(uint256, uint256, bool, uint256)',\n  2780101785: '(uint256, uint256, bool, string)',\n  2869451494: '(uint256, uint256, bool, bool)',\n  2592172675: '(uint256, uint256, bool, address)',\n  2297881778: '(uint256, uint256, address, uint256)',\n  1826504888: '(uint256, uint256, address, string)',\n  365610102: '(uint256, uint256, address, bool)',\n  1453707697: '(uint256, uint256, address, address)',\n  2193775476: '(uint256, string, uint256, uint256)',\n  3082360010: '(uint256, string, uint256, string)',\n  1763348340: '(uint256, string, uint256, bool)',\n  992115124: '(uint256, string, uint256, address)',\n  2955463101: '(uint256, string, string, uint256)',\n  564987523: '(uint256, string, string, string)',\n  3014047421: '(uint256, string, string, bool)',\n  3582182914: '(uint256, string, string, address)',\n  3472922752: '(uint256, string, bool, uint256)',\n  3537118157: '(uint256, string, bool, string)',\n  3126025628: '(uint256, string, bool, bool)',\n  2922300801: '(uint256, string, bool, address)',\n  3906142605: '(uint256, string, address, uint256)',\n  2621104033: '(uint256, string, address, string)',\n  2428701270: '(uint256, string, address, bool)',\n  1634266465: '(uint256, string, address, address)',\n  3333212072: '(uint256, bool, uint256, uint256)',\n  3724797812: '(uint256, bool, uint256, string)',\n  2443193898: '(uint256, bool, uint256, bool)',\n  2295029825: '(uint256, bool, uint256, address)',\n  740099910: '(uint256, bool, string, uint256)',\n  1757984957: '(uint256, bool, string, string)',\n  3952250239: '(uint256, bool, string, bool)',\n  4015165464: '(uint256, bool, string, address)',\n  1952763427: '(uint256, bool, bool, uint256)',\n  3722155361: '(uint256, bool, bool, string)',\n  3069540257: '(uint256, bool, bool, bool)',\n  1768164185: '(uint256, bool, bool, address)',\n  125994997: '(uint256, bool, address, uint256)',\n  2917159623: '(uint256, bool, address, string)',\n  1162695845: '(uint256, bool, address, bool)',\n  2716814523: '(uint256, bool, address, address)',\n  211605953: '(uint256, address, uint256, uint256)',\n  3719324961: '(uint256, address, uint256, string)',\n  1601452668: '(uint256, address, uint256, bool)',\n  364980149: '(uint256, address, uint256, address)',\n  1182952285: '(uint256, address, string, uint256)',\n  1041403043: '(uint256, address, string, string)',\n  3425872647: '(uint256, address, string, bool)',\n  2629472255: '(uint256, address, string, address)',\n  1522374954: '(uint256, address, bool, uint256)',\n  2432370346: '(uint256, address, bool, string)',\n  3813741583: '(uint256, address, bool, bool)',\n  4017276179: '(uint256, address, bool, address)',\n  1936653238: '(uint256, address, address, uint256)',\n  52195187: '(uint256, address, address, string)',\n  153090805: '(uint256, address, address, bool)',\n  612938772: '(uint256, address, address, address)',\n  2812835923: '(string, uint256, uint256, uint256)',\n  2236298390: '(string, uint256, uint256, string)',\n  1982258066: '(string, uint256, uint256, bool)',\n  3793609336: '(string, uint256, uint256, address)',\n  3330189777: '(string, uint256, string, uint256)',\n  1522028063: '(string, uint256, string, string)',\n  2099530013: '(string, uint256, string, bool)',\n  2084975268: '(string, uint256, string, address)',\n  3827003247: '(string, uint256, bool, uint256)',\n  2885106328: '(string, uint256, bool, string)',\n  894187222: '(string, uint256, bool, bool)',\n  3773389720: '(string, uint256, bool, address)',\n  1325727174: '(string, uint256, address, uint256)',\n  2684039059: '(string, uint256, address, string)',\n  2182163010: '(string, uint256, address, bool)',\n  1587722158: '(string, uint256, address, address)',\n  4099767596: '(string, string, uint256, uint256)',\n  1562023706: '(string, string, uint256, string)',\n  3282609748: '(string, string, uint256, bool)',\n  270792626: '(string, string, uint256, address)',\n  2393878571: '(string, string, string, uint256)',\n  3601791698: '(string, string, bool, uint256)',\n  2093204999: '(string, string, address, uint256)',\n  1689631591: '(string, bool, uint256, uint256)',\n  1949134567: '(string, bool, uint256, string)',\n  2331496330: '(string, bool, uint256, bool)',\n  2472413631: '(string, bool, uint256, address)',\n  620303461: '(string, bool, string, uint256)',\n  2386524329: '(string, bool, bool, uint256)',\n  1560853253: '(string, bool, address, uint256)',\n  4176812830: '(string, address, uint256, uint256)',\n  1514632754: '(string, address, uint256, string)',\n  4232594928: '(string, address, uint256, bool)',\n  1677429701: '(string, address, uint256, address)',\n  2446397742: '(string, address, string, uint256)',\n  1050642026: '(string, address, bool, uint256)',\n  2398352281: '(string, address, address, uint256)',\n  927708338: '(bool, uint256, uint256, uint256)',\n  2389310301: '(bool, uint256, uint256, string)',\n  3197649747: '(bool, uint256, uint256, bool)',\n  14518201: '(bool, uint256, uint256, address)',\n  1779538402: '(bool, uint256, string, uint256)',\n  4122747465: '(bool, uint256, string, string)',\n  3857124139: '(bool, uint256, string, bool)',\n  4275904511: '(bool, uint256, string, address)',\n  2437143473: '(bool, uint256, bool, string)',\n  3468031191: '(bool, uint256, bool, bool)',\n  2597139990: '(bool, uint256, bool, address)',\n  355982471: '(bool, uint256, address, uint256)',\n  464760986: '(bool, uint256, address, string)',\n  3032683775: '(bool, uint256, address, bool)',\n  653615272: '(bool, uint256, address, address)',\n  679886795: '(bool, string, uint256, uint256)',\n  450457062: '(bool, string, uint256, string)',\n  1796103507: '(bool, string, uint256, bool)',\n  362193358: '(bool, string, uint256, address)',\n  2078327787: '(bool, string, string, uint256)',\n  369533843: '(bool, string, bool, uint256)',\n  196087467: '(bool, bool, uint256, uint256)',\n  2111099104: '(bool, bool, uint256, string)',\n  1637764366: '(bool, bool, uint256, bool)',\n  1420274080: '(bool, bool, uint256, address)',\n  3819555375: '(bool, bool, string, uint256)',\n  1836074433: '(bool, bool, bool, uint256)',\n  1276263767: '(bool, bool, address, uint256)',\n  2079424929: '(bool, address, uint256, uint256)',\n  1374724088: '(bool, address, uint256, string)',\n  3590430492: '(bool, address, uint256, bool)',\n  325780957: '(bool, address, uint256, address)',\n  3256837319: '(bool, address, string, uint256)',\n  126031106: '(bool, address, bool, uint256)',\n  208064958: '(bool, address, address, uint256)',\n  888202806: '(address, uint256, uint256, uint256)',\n  1244184599: '(address, uint256, uint256, string)',\n  1727118439: '(address, uint256, uint256, bool)',\n  551786573: '(address, uint256, uint256, address)',\n  3204577425: '(address, uint256, string, uint256)',\n  2292761606: '(address, uint256, string, string)',\n  3474460764: '(address, uint256, string, bool)',\n  1547898183: '(address, uint256, string, address)',\n  586594713: '(address, uint256, bool, uint256)',\n  3316483577: '(address, uint256, bool, string)',\n  1005970743: '(address, uint256, bool, bool)',\n  2736520652: '(address, uint256, bool, address)',\n  269444366: '(address, uint256, address, uint256)',\n  497649386: '(address, uint256, address, string)',\n  2713504179: '(address, uint256, address, bool)',\n  1200430178: '(address, uint256, address, address)',\n  499704248: '(address, string, uint256, uint256)',\n  1149776040: '(address, string, uint256, string)',\n  251125840: '(address, string, uint256, bool)',\n  1662531192: '(address, string, uint256, address)',\n  362776871: '(address, string, string, uint256)',\n  1365129398: '(address, string, bool, uint256)',\n  1166009295: '(address, string, address, uint256)',\n  946861556: '(address, bool, uint256, uint256)',\n  178704301: '(address, bool, uint256, string)',\n  3294903840: '(address, bool, uint256, bool)',\n  3438776481: '(address, bool, uint256, address)',\n  2162598411: '(address, bool, string, uint256)',\n  2353946086: '(address, bool, bool, uint256)',\n  2807847390: '(address, bool, address, uint256)',\n  3193255041: '(address, address, uint256, uint256)',\n  4256496016: '(address, address, uint256, string)',\n  2604815586: '(address, address, uint256, bool)',\n  2376523509: '(address, address, uint256, address)',\n  4011651047: '(address, address, string, uint256)',\n  963766156: '(address, address, bool, uint256)',\n  2485456247: '(address, address, address, uint256)',\n}\n","'use strict'\nimport { bytesToHex } from '@ethereumjs/util'\nimport { isHexString } from 'ethjs-util'\nimport { BN } from 'bn.js'\nimport { isBigInt } from 'web3-validator'\n\nfunction convertToPrefixedHex (input) {\n  if (input === undefined || input === null || isHexString(input)) {\n    return input\n  }\n  if ((input.constructor && input.constructor.name === 'BigNumber')\n      || BN.isBN(input)\n      || isBigInt(input)\n      || typeof input === 'number') {\n    return '0x' + input.toString(16)\n  }\n\n  try {\n    return bytesToHex(input)\n  } catch (e) {\n    console.log(e)\n  }\n\n  try {\n    // BigNumber\n    return '0x' + input.toString(16)\n  } catch (e) {\n    console.log(e)\n  }\n\n  return input\n}\n\n/*\n txResult.result can be 3 different things:\n - VM call or tx: ethereumjs-vm result object\n - Node transaction: object returned from eth.getTransactionReceipt()\n - Node call: return value from function call (not an object)\n\n Also, VM results use BN and Buffers, Node results use hex strings/ints,\n So we need to normalize the values to prefixed hex strings\n*/\nexport function resultToRemixTx (txResult, execResult?) {\n  const { receipt, transactionHash, result } = txResult\n  const { status, gasUsed, contractAddress } = receipt\n  let returnValue, errorMessage\n\n  if (isHexString(result)) {\n    returnValue = result\n  } else if (execResult !== undefined) {\n    returnValue = execResult.returnValue\n    errorMessage = execResult.exceptionError\n  }\n\n  return {\n    transactionHash,\n    status: convertToPrefixedHex(status),\n    gasUsed: convertToPrefixedHex(gasUsed),\n    error: errorMessage,\n    return: returnValue ? convertToPrefixedHex(returnValue) : undefined,\n    createdAddress: convertToPrefixedHex(contractAddress)\n  }\n}\n","'use strict'\nexport function formatMemory (mem, width) {\n  const ret = {}\n  if (!mem) {\n    return ret\n  }\n\n  if (!mem.substr) {\n    mem = mem.join('') // geth returns an array, eth return raw string\n  }\n\n  for (let k = 0; k < mem.length; k += (width * 2)) {\n    const memory = mem.substr(k, width * 2)\n    const content = tryConvertAsciiFormat(memory)\n    ret['0x' + (k / 2).toString(16)] = content.raw + '\\t' + content.ascii\n  }\n  return ret\n}\n\nexport function tryConvertAsciiFormat (memorySlot) {\n  const ret = { ascii: '', raw: '' }\n  for (let k = 0; k < memorySlot.length; k += 2) {\n    const raw = memorySlot.substr(k, 2)\n    let ascii = String.fromCharCode(parseInt(raw, 16))\n    ascii = ascii.replace(/[^\\w\\s]/, '?')\n    if (ascii === '') {\n      ascii = '?'\n    }\n    ret.ascii += ascii\n    ret.raw += raw\n  }\n  return ret\n}\n\n/**\n * format @args css1, css2, css3 to css inline style\n *\n * @param {Object} css1 - css inline declaration\n * @param {Object} css2 - css inline declaration\n * @param {Object} css3 - css inline declaration\n * @param {Object} ...\n * @return {String} css inline style\n *                  if the key start with * the value is directly appended to the inline style (which should be already inline style formatted)\n *                  used if multiple occurrences of the same key is needed\n */\nexport function formatCss (css1, css2) {\n  let ret = ''\n  for (const arg in arguments) { // eslint-disable-line\n    for (const k in arguments[arg]) { // eslint-disable-line\n      if (arguments[arg][k] && ret.indexOf(k) === -1) { // eslint-disable-line\n        if (k.indexOf('*') === 0) {\n          ret += arguments[arg][k] // eslint-disable-line\n        } else {\n          ret += k + ':' + arguments[arg][k] + ';' // eslint-disable-line\n        }\n      }\n    }\n  }\n  return ret\n}\n\nexport function normalizeHex (hex) {\n  if (hex.indexOf('0x') === 0) {\n    hex = hex.replace('0x', '')\n  }\n  hex = hex.replace(/^0+/, '')\n  return '0x' + hex\n}\n\nexport function normalizeHexAddress (hex) {\n  if (hex.indexOf('0x') === 0) hex = hex.replace('0x', '')\n  if (hex.length >= 40) {\n    const reg = /(.{40})$/.exec(hex)\n    if (reg) {\n      return '0x' + reg[0]\n    }\n  } else {\n    return '0x' + (new Array(40 - hex.length + 1).join('0')) + hex\n  }\n}\n\nexport function runInBrowser () {\n  return typeof window !== 'undefined'\n}\n","import { EventManager } from './eventManager'\nimport * as uiHelper from './helpers/uiHelper'\nimport * as compilerHelper from './helpers/compilerHelper'\nimport * as util from './util'\nimport * as hash from './hash'\nimport { Storage } from './storage'\nimport { EventsDecoder } from './execution/eventsDecoder'\nimport * as txExecution from './execution/txExecution'\nimport * as txHelper from './execution/txHelper'\nimport * as txFormat from './execution/txFormat'\nimport { TxListener } from './execution/txListener'\nimport { TxRunner } from './execution/txRunner'\nimport { LogsManager } from './execution/logsManager'\nimport { forkAt } from './execution/forkAt'\nimport * as typeConversion from './execution/typeConversion'\nimport { TxRunnerVM } from './execution/txRunnerVM'\nimport { TxRunnerWeb3 } from './execution/txRunnerWeb3'\nimport * as txResultHelper from './helpers/txResultHelper'\nexport { ConsoleLogs } from './helpers/hhconsoleSigs'\nexport { ICompilerApi, ConfigurationSettings, iSolJsonBinData, iSolJsonBinDataBuild } from './types/ICompilerApi'\nexport { QueryParams } from './query-params'\nexport { VMexecutionResult } from './execution/txRunnerVM'\nexport { Registry } from './registry'\n\nconst helpers = {\n  ui: uiHelper,\n  compiler: compilerHelper,\n  txResultHelper\n}\nconst execution = {\n  EventsDecoder: EventsDecoder,\n  txExecution: txExecution,\n  txHelper: txHelper,\n  txFormat: txFormat,\n  txListener: TxListener,\n  TxRunner: TxRunner,\n  TxRunnerWeb3: TxRunnerWeb3,\n  TxRunnerVM: TxRunnerVM,\n  typeConversion: typeConversion,\n  LogsManager,\n  forkAt\n}\nexport { EventManager, helpers, Storage, util, execution, hash }\n","'use strict'\n\nexport class QueryParams {\n\n  update (params) {\n    const currentParams = this.get()\n    const keys = Object.keys(params)\n    for (const x in keys) {\n      currentParams[keys[x]] = params[keys[x]]\n    }\n    let queryString = '#'\n    const updatedKeys = Object.keys(currentParams)\n    for (const y in updatedKeys) {\n      queryString += updatedKeys[y] + '=' + currentParams[updatedKeys[y]] + '&'\n    }\n    window.location.hash = queryString.slice(0, -1)\n  }\n\n  get () {\n    const qs = window.location.hash.substr(1)\n\n    if (window.location.search.length > 0) {\n      // use legacy query params instead of hash\n      window.location.hash = window.location.search.substr(1)\n      window.location.search = ''\n    }\n\n    const params = {}\n    const parts = qs.split('&')\n    for (const x in parts) {\n      const keyValue = parts[x].split('=')\n      if (keyValue[0] !== '') {\n        params[keyValue[0]] = keyValue[1]\n      }\n    }\n    return params\n  }\n}\n","type registryEntry = {\n    api: any,\n    name: string\n}\n\nexport class Registry {\n  private static instance: Registry;\n  private state: any\n\n  private constructor () {\n    this.state = {}\n  }\n\n  public static getInstance (): Registry {\n    if (!Registry.instance) {\n      Registry.instance = new Registry()\n    }\n\n    return Registry.instance\n  }\n\n  public put (entry: registryEntry) {\n    if (this.state[entry.name]) return this.state[entry.name]\n    const server = {\n      // uid: serveruid,\n      api: entry.api\n    }\n    this.state[entry.name] = { server }\n    return server\n  }\n\n  public get (name: string): registryEntry {\n    const state = this.state[name]\n    if (!state) return\n    const server = state.server\n    return server\n  }\n}\n","'use strict'\n\nexport class Storage {\n  prefix\n\n  constructor (prefix) {\n    this.prefix = prefix\n\n    // on startup, upgrade the old storage layout\n    if (typeof window !== 'undefined') {\n      this.safeKeys().forEach(function (name) {\n        if (name.indexOf('sol-cache-file-', 0) === 0) {\n          const content = window.localStorage.getItem(name)\n          window.localStorage.setItem(name.replace(/^sol-cache-file-/, 'sol:'), content)\n          window.localStorage.removeItem(name)\n        }\n      })\n    }\n\n    // remove obsolete key\n    if (typeof window !== 'undefined') {\n      window.localStorage.removeItem('editor-size-cache')\n    }\n  }\n\n  exists (name) {\n    if (typeof window !== 'undefined') {\n      return this.get(name) !== null\n    }\n  }\n\n  get (name) {\n    if (typeof window !== 'undefined') {\n      return window.localStorage.getItem(this.prefix + name)\n    }\n  }\n\n  set (name, content) {\n    try {\n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(this.prefix + name, content)\n      }\n    } catch (exception) {\n      return false\n    }\n    return true\n  }\n\n  remove (name) {\n    if (typeof window !== 'undefined') {\n      window.localStorage.removeItem(this.prefix + name)\n    }\n    return true\n  }\n\n  rename (originalName, newName) {\n    const content = this.get(originalName)\n    if (!this.set(newName, content)) {\n      return false\n    }\n    this.remove(originalName)\n    return true\n  }\n\n  safeKeys () {\n    // NOTE: this is a workaround for some browsers\n    if (typeof window !== 'undefined') {\n      return Object.keys(window.localStorage).filter(function (item) { return item !== null && item !== undefined })\n    }\n    return []\n  }\n\n  keys () {\n    return this.safeKeys()\n      // filter any names not including the prefix\n      .filter(item => item.indexOf(this.prefix, 0) === 0)\n      // remove prefix from filename and add the 'browser' path\n      .map(item => item.substr(this.prefix.length))\n  }\n}\n","'use strict'\nimport { hash } from '@remix-project/remix-lib'\nimport { bytesToHex, setLengthLeft, toBytes, addHexPrefix } from '@ethereumjs/util'\nimport stringSimilarity from 'string-similarity'\nimport { BN } from 'bn.js'\nimport { isBigInt } from 'web3-validator'\n\n/*\n contains misc util: @TODO should be split\n  - hex conversion\n  - binary search\n  - CALL related look up\n  - sha3 calculation\n  - swarm hash extraction\n  - bytecode comparison\n*/\n/*\n    ints: IntArray\n  */\n\n/**\n   * Converts a hex string to an array of integers.\n   */\nexport function hexToIntArray (hexString) {\n  if (hexString.slice(0, 2) === '0x') {\n    hexString = hexString.slice(2)\n  }\n  const integers = []\n  for (let i = 0; i < hexString.length; i += 2) {\n    integers.push(parseInt(hexString.slice(i, i + 2), 16))\n  }\n  return integers\n}\n\n/*\n    ints: list of BNs\n  */\nexport function hexListFromBNs (bnList) {\n  const ret = []\n  for (const k in bnList) {\n    const v = bnList[k].toString(16)\n    ret.push('0x' + v.padStart(64, '0'))\n  }\n  return ret\n}\n\nexport function toHexPaddedString(v: bigint | string): string {\n  if (v) {\n    if (typeof v === 'string') {\n      return v.startsWith('0x') ? v : '0x' + v\n    } else {\n      return '0x' + v.toString(16).padStart(64, '0')\n    }\n  }\n  else\n    return '0x' + '0'.padStart(64, '0')\n}\n\n/*\n  ints: ints: IntArray\n*/\nexport function formatMemory (mem) {\n  const hexMem = bytesToHex(mem).substr(2)\n  const ret = []\n  for (let k = 0; k < hexMem.length; k += 32) {\n    const row = hexMem.substr(k, 32)\n    ret.push(row)\n  }\n  return ret\n}\n\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return largest i such that array[i] <= target; return -1 if array[0] > target || array is empty\n*/\nexport function findLowerBound (target, array) {\n  let start = 0\n  let length = array.length\n  while (length > 0) {\n    const half = length >> 1\n    const middle = start + half\n    if (array[middle] <= target) {\n      length = length - 1 - half\n      start = middle + 1\n    } else {\n      length = half\n    }\n  }\n  return start - 1\n}\n\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return largest array[i] such that array[i] <= target; return null if array[0] > target || array is empty\n*/\nexport function findLowerBoundValue (target, array) {\n  const index = findLowerBound(target, array)\n  return index >= 0 ? array[index] : null\n}\n\n/*\n  Binary Search:\n  Assumes that @arg array is sorted increasingly\n  return Return i such that |array[i] - target| is smallest among all i and -1 for an empty array.\n  Returns the smallest i for multiple candidates.\n*/\nexport function findClosestIndex (target, array): number {\n  if (array.length === 0) {\n    return -1\n  }\n  const index = findLowerBound(target, array)\n  if (index < 0) {\n    return 0\n  } else if (index >= array.length - 1) {\n    return array.length - 1\n  } else {\n    const middle = (array[index] + array[index + 1]) / 2\n    return target <= middle ? index : index + 1\n  }\n}\n\n/**\n  * Find the call from @args rootCall which contains @args index (recursive)\n  *\n  * @param {Int} index - index of the vmtrace\n  * @param {Object} rootCall  - call tree, built by the trace analyser\n  * @return {Object} - return the call which include the @args index\n  */\nexport function findCall (index, rootCall) {\n  const ret = buildCallPath(index, rootCall)\n  return ret[ret.length - 1]\n}\n\n/**\n  * Find calls path from @args rootCall which leads to @args index (recursive)\n  *\n  * @param {Int} index - index of the vmtrace\n  * @param {Object} rootCall  - call tree, built by the trace analyser\n  * @return {Array} - return the calls path to @args index\n  */\nexport function buildCallPath (index, rootCall) {\n  const ret = []\n  findCallInternal(index, rootCall, ret)\n  return ret\n}\n\n/**\n  * sha3 the given @arg value (left pad to 32 bytes)\n  *\n  * @param {String} value - value to sha3\n  * @return {Object} - return sha3ied value\n  */\n// eslint-disable-next-line camelcase\nexport function sha3_256 (value) {\n  if ((value.constructor && value.constructor.name === 'BigNumber') || BN.isBN(value) || isBigInt(value)) {\n    value = value.toString(16)\n  }\n  if (typeof value === 'number') {\n    value = value.toString(16)\n  }\n  value = toBytes(addHexPrefix(value))\n  const retInBuffer: Uint8Array = hash.keccak(Buffer.from(setLengthLeft(value, 32)))\n  return bytesToHex(retInBuffer)\n}\n\n/**\n  * return a regex which extract the swarmhash from the bytecode.\n  *\n  * @return {RegEx}\n  */\nexport function swarmHashExtraction () {\n  return /a165627a7a72305820([0-9a-f]{64})0029$/\n}\n\n/**\n  * return a regex which extract the swarmhash from the bytecode, from POC 0.3\n  *\n  * @return {RegEx}\n  */\nexport function swarmHashExtractionPOC31 () {\n  return /a265627a7a72315820([0-9a-f]{64})64736f6c6343([0-9a-f]{6})0032$/\n}\n\n/**\n  * return a regex which extract the swarmhash from the bytecode, from POC 0.3\n  *\n  * @return {RegEx}\n  */\nexport function swarmHashExtractionPOC32 () {\n  return /a265627a7a72305820([0-9a-f]{64})64736f6c6343([0-9a-f]{6})0032$/\n}\n\n/**\n  * return a regex which extract the cbor encoded metadata : {\"ipfs\": <IPFS hash>, \"solc\": <compiler version>} from the bytecode.\n  * ref https://solidity.readthedocs.io/en/v0.6.6/metadata.html?highlight=ipfs#encoding-of-the-metadata-hash-in-the-bytecode\n  * @return {RegEx}\n  */\nexport function cborEncodedValueExtraction () {\n  return /64697066735822([0-9a-f]{68})64736f6c6343([0-9a-f]{6})0033$/\n}\n\n/**\n  * return a regex which extract the input parameters from the bytecode\n  *\n  * @return {RegEx}\n  */\nexport function inputParametersExtraction () {\n  return /64697066735822[0-9a-f]{68}64736f6c6343[0-9a-f]{6}0033(.*)$/\n}\n\nexport function extractcborMetadata (value) {\n  const cbor = value.match(cborEncodedValueExtraction())\n  if (cbor && cbor[0]) value = value.replace(cbor[0], '')\n  return value\n}\n\nexport function extractSwarmHash (value) {\n  value = value.replace(swarmHashExtraction(), '')\n  value = value.replace(swarmHashExtractionPOC31(), '')\n  value = value.replace(swarmHashExtractionPOC32(), '')\n  return value\n}\n\nexport function extractinputParameters (value) {\n  const inputsParam = getinputParameters(value)\n  if (inputsParam) value = value.replace(inputsParam, '')\n  return value\n}\n\nexport function getinputParameters (value) {\n  const regex = value.match(inputParametersExtraction())\n  if (regex && regex[1]) {\n    return regex[1]\n  } else\n    return ''\n}\n\n/**\n  * Compare bytecode. return true if the code is equal (handle swarm hash and library references)\n  * @param {String} code1 - the bytecode that is actually deployed (contains resolved library reference and a potentially different swarmhash)\n  * @param {String} code2 - the bytecode generated by the compiler (contains unresolved library reference and a potentially different swarmhash)\n                            this will return false if the generated bytecode is empty (abstract contract cannot be deployed)\n  *\n  * @return {bool}\n  */\nexport function compareByteCode (code1, code2) {\n  if (code1 === code2) return true\n  if (code2 === '0x') return false // abstract contract. see comment\n  if (code1 === '0x00' || code2 === '0x00' && code1 !== code2) return false // // This can be removed some time once YUL returns correct bytecode\n\n  if (code2.substr(2, 46) === '7300000000000000000000000000000000000000003014') {\n    // testing the following signature: PUSH20 00..00 ADDRESS EQ\n    // in the context of a library, that slot contains the address of the library (pushed by the compiler to avoid calling library other than with a DELEGATECALL)\n    // if code2 is not a library, well we still suppose that the comparison remain relevant even if we remove some information from `code1`\n    code1 = replaceLibReference(code1, 4)\n  }\n  let pos = -1\n  while ((pos = code2.search(/__(.*)__/)) !== -1) {\n    code2 = replaceLibReference(code2, pos)\n    code1 = replaceLibReference(code1, pos)\n  }\n\n  code1 = removeImmutableReference(code1, code2)\n  code1 = extractinputParameters(code1)\n  code1 = extractSwarmHash(code1)\n  code1 = extractcborMetadata(code1)\n  code2 = extractinputParameters(code2)\n  code2 = extractSwarmHash(code2)\n  code2 = extractcborMetadata(code2)\n\n  if (code1 && code2) {\n    if (code1.length !== code2.length) {\n      // if the length isn't the same, we have an issue with extracting the metadata hash.\n      const minLength = code1.length > code2.length ? code2.length: code1.length\n      code1 = code1.substr(0, minLength - 10)\n      code2 = code2.substr(0, minLength - 10)\n    }\n    const compare = stringSimilarity.compareTwoStrings(code1, code2)\n    return compare == 1\n  }\n\n  return false\n}\n/* util extracted out from remix-ide. @TODO split this file, cause it mix real util fn with solidity related stuff ... */\nexport function groupBy (arr, key) {\n  return arr.reduce((sum, item) => {\n    const groupByVal = item[key]\n    const groupedItems = sum[groupByVal] || []\n    groupedItems.push(item)\n    sum[groupByVal] = groupedItems\n    return sum\n  }, {})\n}\n\nexport function concatWithSeparator (list, separator) {\n  return list.reduce((sum, item) => sum + item + separator, '').slice(0, -separator.length)\n}\n\nexport function escapeRegExp (str) {\n  return str.replace(/[-[\\]/{}()+?.\\\\^$|]/g, '\\\\$&')\n}\n\nfunction replaceLibReference (code, pos) {\n  return code.substring(0, pos) + '0000000000000000000000000000000000000000' + code.substring(pos + 40)\n}\n\nfunction removeByIndex (code, index, length, emptyRef) {\n  if (!code) return code\n  return code.slice(0, index) + emptyRef + code.slice(index + length)\n}\n\nfunction removeImmutableReference (code1, code2) {\n  try {\n    const refOccurrence = code2.match(/7f0000000000000000000000000000000000000000000000000000000000000000/g)\n    if (!refOccurrence) return code1\n    let offset = 0\n    refOccurrence.map((value) => {\n      offset = code2.indexOf(value, offset)\n      code1 = removeByIndex(code1, offset, value.length, '7f0000000000000000000000000000000000000000000000000000000000000000')\n      offset = offset + 1\n    })\n  } catch (e) {\n    console.log('error removeImmutableReference', e)\n  }\n  return code1\n}\n\nfunction findCallInternal (index, rootCall, callsPath) {\n  const calls = Object.keys(rootCall.calls)\n  const ret = rootCall\n  callsPath.push(rootCall)\n  for (const k in calls) {\n    const subCall = rootCall.calls[calls[k]]\n    if (index >= subCall.start && index <= subCall.return) {\n      findCallInternal(index, subCall, callsPath)\n      break\n    }\n  }\n  return ret\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [3742,8482,3933,9380], () => (__webpack_require__(58689)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".0.52.0-dev.1720638426578.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = self.location + \"\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t3461: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn Promise.all([3742,8482,3933,9380].map(__webpack_require__.e, __webpack_require__)).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["provider","self","onmessage","e","data","cmd","Provider","fork","nodeUrl","blockNumber","stateDb","blocks","init","then","postMessage","stamp","error","sendAsync","query","result","Accounts","_addAccount","privateKey","balance","newAccount","address","EventManager","this","registered","anonymous","unregister","eventName","obj","func","Function","reg","toString","splice","register","push","trigger","args","listener","l","apply","EventsDecoder","resolveReceipt","parseLogs","tx","contractName","compiledContracts","cb","isCall","decoded","raw","receipt","_decodeLogs","contract","contracts","logs","_decodeEvents","_eventABI","eventABI","abi","ethers","utils","Interface","events","event","getEvent","getEventTopic","replace","name","inputs","object","_eventsABI","eventsABI","visitContracts","_event","hash","k","input","type","baseType","_stringifyBigNumber","value","_isBigNumber","_stringifyEvent","undefined","_ethersType","Array","isArray","map","item","i","log","topicId","topics","eventAbis","eventAbi","decodedlog","parseLog","v","from","topic","forkAt","networkId","forks","currentForkName","number","LogsManager","notificationCallbacks","subscriptions","filters","filterTracking","oldLogs","checkBlock","block","web3","eachOf","transactions","next","txHash","bytesToHex","eth","getTransactionReceipt","_error","txNumber","getSubscriptionsFor","subscriptionId","logIndex","blockHash","transactionHash","transactionIndex","response","jsonrpc","method","params","subscription","transmit","_err","eventMatchesFilter","changeEvent","queryType","queryFilter","filter","logTopic","indexOf","length","fromBlock","parseInt","toBlock","Number","MAX_VALUE","targetAddress","toChecksumAddress","matchedSubscriptions","Object","keys","subscriptionParams","getLogsForSubscription","_queryType","getLogsFor","forEach","callback","addListener","_type","subscribe","randomBytes","unsubscribe","newFilter","filterType","filterId","uninstallFilter","getLogsForFilter","logsOnly","tracking","x","getLogsByTxHash","results","createContract","gasLimit","txRunner","callbacks","finalCallback","confirmationCb","gasEstimationForceSend","promptCb","to","useCall","rawRun","txResult","callFunction","funAbi","stateMutability","constant","checkError","execResult","errorCode","OUT_OF_GAS","STACK_UNDERFLOW","STACK_OVERFLOW","INVALID_JUMP","INVALID_OPCODE","REVERT","STATIC_STATE_CHANGE","INTERNAL_ERROR","CREATE_COLLISION","STOP","REFUND_EXHAUSTED","ret","message","errorMessage","exceptionError","msg","includes","returnData","errorData","returnDataHex","slice","customError","decodedCustomErrorInputsClean","file","fn","getFunctionFragment","sign","getSighash","functionDesc","getFunction","decodedCustomErrorInputs","decodeFunctionData","devdoc","functions","functionSignature","errors","console","userdoc","notice","inputIndex","inputKey","documentation","JSON","stringify","abiCoder","AbiCoder","reason","decode","encodeData","funABI","values","contractbyteCode","encoded","encodedHex","encodeParamsHelper","encodeFunctionId","encodeParams","Promise","resolve","reject","dataHex","funArgs","Buffer","parseFunctionParams","encodeFunctionCall","encodedParam","encodeConstructorCallAndLinkLibraries","linkLibrariesAddresses","linkReferences","linkLibraries","bytecodeToDeploy","contractBytecode","evm","bytecode","libFile","lib","isValidAddress","linkLibraryStandardFromlinkReferences","encodeConstructorCallAndDeployLibraries","callbackStep","callbackDeployLibrary","linkBytecode","err","buildData","isConstructor","atAddress","linkBytecodeStandard","eachOfSeries","libs","cbFile","libRef","libName","cbLibDeployed","library","deployLibrary","hexAddress","linkLibraryStandard","linkBytecodeLegacy","libraryRefMatch","match","libraryName","libraryShortName","linkLibrary","contractABI","contractAddress","setLibraryAddress","bytecodeToLink","positions","pos","regpos","RegExp","start","linkBytecodeSolc","addHexPrefix","decodeResponse","fnabi","outputs","outputTypes","makeFullTypeDefinition","Uint8Array","decodedObj","json","startIndex","isArrayOrStringStart","charAt","endQuoteIndex","j","normalizeParam","substring","Error","bracketCount","param","trim","startsWith","test","regSci","REGEX_SCIENTIFIC","exec","exponents","REGEX_DECIMAL","paramTrimmed","fromExponential","str","index","typeDef","components","innerTypes","innerType","join","extractSize","types","encode","sortAbiFunction","contractabi","isConstant","sort","a","b","localeCompare","getConstructorInterface","payable","parse","serializeInputs","fnAbi","serialized","size","getFunctionLiner","detailTuple","fullType","fnName","getFallbackInterface","getReceiveInterface","getContract","inputParametersDeclarationToString","abiinputs","inp","addExecutionCosts","returnValue","executionGasUsed","executionCost","gasUsed","transactionCost","TxListener","opt","executionContext","_api","api","_resolvedTransactions","_resolvedContracts","_isListening","_listenOnNetwork","_loopId","context","stopListening","startListening","udapp","lookupOnly","isVM","remix","getExecutionResultFromSimulator","toBytes","call","envMode","getProvider","_resolveTx","resolvedData","getTransaction","status","_resolve","setListenOnNetwork","listenOnNetwork","clearInterval","_startListenOnNetwork","lastSeenBlock","lastBlock","BigInt","processingBlock","processBlocks","currentLoopId","current","_manageBlock","setInterval","getBlock","_newBlock","assign","resolvedContract","resolvedTransaction","_resolveAsync","fun","code","_tryResolveContract","_resolveFunction","function","creationAddress","getCode","isCtor","inputData","methodIdentifiers","_decodeInputParams","decodedReturnValue","getinputParameters","codeToResolve","isCreation","found","bytes","deployedBytecode","compareByteCode","inputTypes","TxRunner","internalRunner","pendingTxs","queusTxs","run","timestamp","Date","now","execute","pop","TxRunnerVM","vmaccounts","getVMObject","logsManager","commonContext","common","nextNonceForCall","vm","Block","fromRLPSerializedBlock","blockParentHash","blockchain","genesisBlock","serialize","runInVm","account","stateManager","getAccount","Address","fromString","res","EIP1559","hardfork","LegacyTransaction","fromTxData","nonce","gasPrice","hexToBytes","FeeMarketEIP1559Transaction","maxPriorityFeePerGas","maxFeePerGas","coinbases","difficulties","difficulty","consensusType","ConsensusType","ProofOfStake","fromBlockData","header","getTime","coinbase","baseFeePerGas","parentHash","standaloneTx","getStateRoot","root","runBlockInVm","setStateRoot","putBlock","runTxInVm","runTx","skipNonce","skipBlockValidation","skipBalance","runBlock","generate","TxRunnerWeb3","getWeb3","currentblockGasLimit","network","txFee","toHex","toWei","maxPriorityFee","maxFee","currentDateTime","resp","listenOnResponse","tryTillReceiptAvailable","tryTillTxAvailable","end","txData","personalMode","personal","sendTransaction","checkRevertBeforeSending","ignoreGasPricing","runInNode","confirmCb","registerCallId","detectNetwork","errNetWork","txCopy","Math","ceil","toBigInt","estimateGas","gasEstimation","config","getUnpersistedProperty","_executeTx","defaultGasLimit","txhash","pause","setTimeout","toInt","h","BN","constructor","isBN","isBigInt","convertToString","_hex","_isBuffer","retObject","createHash","require","keccak","bits","keccak224","k256","keccak384","keccak512","keccak256","keccakFromString","assertIsString","buf","keccakFromHexString","assertIsHexString","keccakFromArray","assertIsArray","_sha256","update","digest","sha256","assertIsBuffer","sha256FromString","sha256FromArray","_ripemd160","padded","setLengthLeft","ripemd160","ripemd160FromString","ripemd160FromArray","rlphash","isHexString","isBuffer","compilerInput","language","sources","content","settings","optimizer","enabled","runs","outputSelection","ConsoleLogs","convertToPrefixedHex","resultToRemixTx","return","createdAddress","formatMemory","mem","width","substr","memory","tryConvertAsciiFormat","ascii","memorySlot","String","fromCharCode","formatCss","css1","css2","arg","arguments","normalizeHex","hex","normalizeHexAddress","runInBrowser","window","helpers","ui","uiHelper","compiler","compilerHelper","txResultHelper","execution","txExecution","txHelper","txFormat","txListener","typeConversion","QueryParams","currentParams","get","queryString","updatedKeys","y","location","qs","search","parts","split","keyValue","Registry","state","entry","server","instance","Storage","prefix","safeKeys","localStorage","getItem","setItem","removeItem","exists","set","exception","remove","rename","originalName","newName","hexToIntArray","hexString","integers","hexListFromBNs","bnList","padStart","toHexPaddedString","hexMem","row","findLowerBound","target","array","half","middle","findLowerBoundValue","findClosestIndex","findCall","rootCall","buildCallPath","findCallInternal","sha3_256","retInBuffer","swarmHashExtraction","swarmHashExtractionPOC31","swarmHashExtractionPOC32","cborEncodedValueExtraction","inputParametersExtraction","extractcborMetadata","cbor","extractSwarmHash","extractinputParameters","inputsParam","regex","code1","code2","replaceLibReference","removeImmutableReference","minLength","compare","stringSimilarity","compareTwoStrings","groupBy","arr","key","reduce","sum","groupByVal","groupedItems","concatWithSeparator","list","separator","escapeRegExp","removeByIndex","emptyRef","refOccurrence","offset","callsPath","calls","subCall","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","id","loaded","__webpack_modules__","m","__webpack_exports__","O","amdO","deferred","chunkIds","priority","notFulfilled","Infinity","fulfilled","every","r","getProto","getPrototypeOf","leafPrototypes","t","mode","__esModule","ns","create","def","getOwnPropertyNames","d","definition","o","defineProperty","enumerable","f","chunkId","all","promises","u","miniCssF","g","globalThis","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","p","installedChunks","installChunk","moreModules","runtime","parentChunkLoadingFunction","importScripts","chunkLoadingGlobal","bind"],"sourceRoot":""}